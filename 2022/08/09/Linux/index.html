<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha256-xejo6yLi6vGtAjcMIsY8BHdKsLg7QynVlFMzdQgUuy8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"showersheep.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.3","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="一、步入Linux世界1. Linux内核：操作系统1.硬件设备 管理使用2.软件程序 （系统）——&gt;操作软件3.系统内存4.文件管理：保存文件，删除文件，修改文件   文件系统：读、写的标准（ext4、FAT32、exFAT、NTFS、APFS…）  Linux查看文件系统：  1df -T">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="https://showersheep.github.io/2022/08/09/Linux/index.html">
<meta property="og:site_name" content="ShowerSheep">
<meta property="og:description" content="一、步入Linux世界1. Linux内核：操作系统1.硬件设备 管理使用2.软件程序 （系统）——&gt;操作软件3.系统内存4.文件管理：保存文件，删除文件，修改文件   文件系统：读、写的标准（ext4、FAT32、exFAT、NTFS、APFS…）  Linux查看文件系统：  1df -T">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220810203203126.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220810203302682.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/7_F9%60ACQC%607_I%7EMLVGHWB56.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220817095041143.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/ERW3QVTZE.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/G9P6W.jpg">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/aaofaofa.jpg">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/IQKK2N.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/iafhoafhoaf.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/oaioaia.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220817110043398.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/WCCKAZWJ.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/kajdkad.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/oadnana.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822155845737.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822160729125.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822161025725.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822161448120.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822162013710.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/kankland.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826162941903.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163043458.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163113293.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163824187.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/32B2U9ZG.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829110208167.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112118347.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112301611.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112755976.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112840931.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829113004525.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/TJ7GVBB7.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/C5PG9YC4E1FXQY.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/K49MAQHU0V5J.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829154943577.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829155015797.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220830091329534.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/OWZH2.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/MEGSBX2POU97MC12SA.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/DT37GXIC.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220818171017132.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220819095031719.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220819095201996.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GJP_VN2RO.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/XZKPZG8B.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/H25GEMB8C.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8WRA.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/XBZO27W.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822093230402.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8C76SQ7W83R0A.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GBM3.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/WFVM8XP.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GMG1UU40.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/Q6V7QQDNBEFS1AP97.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8N99GXK1KB.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220902163635741.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220902163542942.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220905103839080.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220905111208939.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/LFQUQ0TP.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/BCLK_DWKW8.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/NNC22AM5YBI8PZ9X974.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/HAP08ED343G.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/TYD3B0H2RZDFD.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220906172918666.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220906173033498.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/BBREIKR7DNF6GG67UVXLKT.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/2U0Z3TG7DHW.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/D0NK4S3KINOQQX2Z.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/ALNGTSO2EHYHU.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/aiakfkafa.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/OYN4AK3YY4Q5T.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811104456712.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811105103794.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811105214184.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811114927373.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220909144335763.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811140605411.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811141112424.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172531335.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172709426.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172801509.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811174653527.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811175045269.png">
<meta property="og:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811175100352.png">
<meta property="article:published_time" content="2022-08-09T12:03:01.000Z">
<meta property="article:modified_time" content="2022-09-09T16:35:37.653Z">
<meta property="article:author" content="ShowerSheep">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220810203203126.png">


<link rel="canonical" href="https://showersheep.github.io/2022/08/09/Linux/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://showersheep.github.io/2022/08/09/Linux/","path":"2022/08/09/Linux/","title":"Linux"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Linux | ShowerSheep</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ShowerSheep</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">4</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">3</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">5</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%AD%A5%E5%85%A5Linux%E4%B8%96%E7%95%8C"><span class="nav-text">一、步入Linux世界</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Linux%E5%86%85%E6%A0%B8%EF%BC%9A%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-text">1. Linux内核：操作系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-GNU"><span class="nav-text">2. GNU</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="nav-text">3. 开机启动流程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%90%AF%E5%8A%A8%E7%BA%A7%E5%88%AB"><span class="nav-text">4. 启动级别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81Bash-shell%E6%9C%80%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="nav-text">二、Bash shell最基本命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-CLI%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-text">1. CLI命令行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-text">2. 目录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-cd%E5%91%BD%E4%BB%A4"><span class="nav-text">3. cd命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="nav-text">4. 文件目录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%B7%AF%E5%BE%84"><span class="nav-text">1. 路径</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-ls%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="nav-text">5. ls命令：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-touch"><span class="nav-text">6. touch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-cp"><span class="nav-text">7. cp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-ln%E6%96%87%E4%BB%B6%E9%93%BE%E6%8E%A5"><span class="nav-text">8. ln文件链接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-mv%E9%87%8D%E5%91%BD%E5%90%8D-x2F-%E7%A7%BB%E5%8A%A8"><span class="nav-text">9. mv重命名&#x2F;移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-rm%E5%88%A0%E9%99%A4"><span class="nav-text">10. rm删除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-mkdir%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-text">11. mkdir创建文件夹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="nav-text">12. 文件类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-text">13. 文件系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-cat%EF%BC%8Cmore%EF%BC%8Cless%EF%BC%8Ctail%EF%BC%8Chead%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-text">14. cat，more，less，tail，head查看文件内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-cat%E5%8F%AA%E9%80%82%E5%90%88%E7%9C%8B%E7%9F%AD%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-text">1. cat只适合看短的文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-more%E6%8C%89%E9%A1%B5%E5%B1%95%E7%A4%BA"><span class="nav-text">2. more按页展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-less%E5%88%86%E5%B1%8F%E4%B8%8A%E4%B8%8B%E7%BF%BB%E9%A1%B5%E6%B5%8F%E8%A7%88%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-text">3. less分屏上下翻页浏览文件内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-tail%E5%92%8Chead"><span class="nav-text">4. tail和head</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-date%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="nav-text">15. date显示当前日期时间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%9B%B4%E4%B8%8A%E4%B8%80%E5%B1%82%E7%B3%BB%E7%BB%9F%E4%B8%8A%E7%9A%84shell"><span class="nav-text">三、更上一层系统上的shell</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E8%BF%9B%E7%A8%8B%EF%BC%88%E2%80%9C%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8%E2%80%9D%EF%BC%89"><span class="nav-text">1. 进程（“任务管理器”）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9D%99%E6%80%81%E6%9F%A5%E7%9C%8B-ps"><span class="nav-text">1. 静态查看 ps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%8A%A8%E6%80%81%E6%9F%A5%E7%9C%8B-top-x2F-htop"><span class="nav-text">2. 动态查看 top &#x2F; htop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%BD%91%E7%BB%9C%E8%BF%9B%E7%A8%8B"><span class="nav-text">3. 网络进程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-kill"><span class="nav-text">2. kill</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-mount%E6%8C%82%E8%BD%BD"><span class="nav-text">3. mount挂载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-df-%E6%98%BE%E7%A4%BA%E7%A3%81%E7%9B%98%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="nav-text">4. df 显示磁盘的信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-sort"><span class="nav-text">5. sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-text">6. | 管道符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-grep%E6%90%9C%E7%B4%A2-%E5%9F%BA%E7%A1%80"><span class="nav-text">7. grep搜索(基础)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-find%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE"><span class="nav-text">8. find文件查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E5%90%8D"><span class="nav-text">1.按照文件名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="nav-text">2.按照文件大小</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%8C%89%E7%85%A7%E6%97%B6%E9%97%B4"><span class="nav-text">3.按照时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%8C%89%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E3%80%81%E5%B1%9E%E7%BB%84"><span class="nav-text">4.按文件属主、属组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%8C%89%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="nav-text">5.按文件类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%8C%89%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-text">6.按文件权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%8C%89%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">7.按正则表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E5%8F%96%E5%8F%8D"><span class="nav-text">8.取反</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%E5%8A%A8%E4%BD%9C"><span class="nav-text">9.查找文件动作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-xargs"><span class="nav-text">10.|xargs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-%E6%B3%A8%E6%84%8F"><span class="nav-text">11.注意</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-tar%E8%A7%A3%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6"><span class="nav-text">9. tar解压缩文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E7%88%B6%E5%AD%90shell"><span class="nav-text">四、父子shell</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%88%B6%E5%AD%90shell%E6%A6%82%E5%BF%B5"><span class="nav-text">1. 父子shell概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%88%86%E5%8F%B7%E5%9C%A8%E5%91%BD%E4%BB%A4%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-text">2. 分号在命令中的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-sleep%E5%92%8Cjobs"><span class="nav-text">3. sleep和jobs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-coproc%E5%8D%8F%E7%A8%8B"><span class="nav-text">4. coproc协程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4%EF%BC%8C%E9%9D%9E%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4%EF%BC%88%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4%EF%BC%89"><span class="nav-text">5. 外部命令，非外部命令（内建命令）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-alias%E5%88%AB%E5%90%8D"><span class="nav-text">6. alias别名</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">五、环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-windows%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">1. windows环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%92%8C%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-text">2. 全局变量和局部变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-text">1. 全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-text">2. 局部变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%9A%E4%B9%89%E7%94%A8%E6%88%B7%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-text">3. 定义用户局部变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%AE%9A%E4%B9%89%E7%94%A8%E6%88%B7%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-text">4. 定义用户全局变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">3. 环境变量</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-text">六、软件包管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-PMS%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="nav-text">1. PMS和软件安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-yum%E4%BB%93%E5%BA%93"><span class="nav-text">2. yum仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%BB%84%E5%8C%85"><span class="nav-text">3.组包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E8%87%AA%E5%88%B6yum%E6%BA%90%EF%BC%9A"><span class="nav-text">3. 自制yum源：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-rpm"><span class="nav-text">4. rpm</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%89%A9%E5%B1%95yum-utils"><span class="nav-text">2.扩展yum-utils</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85"><span class="nav-text">1.数据库安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-docker%E5%AE%89%E8%A3%85"><span class="nav-text">2.docker安装</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90"><span class="nav-text">七、用户和权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%94%A8%E6%88%B7user"><span class="nav-text">1. 用户user</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-useradd"><span class="nav-text">1. 创建用户 useradd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7id-id"><span class="nav-text">2. 查看用户id id</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7-usermod"><span class="nav-text">3. 修改用户 usermod</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81-passwd"><span class="nav-text">4.改用户密码 passwd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-userdel"><span class="nav-text">5. 删除用户 userdel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2-su"><span class="nav-text">6. 用户切换 su</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E9%99%84%E5%8A%A0%E7%BB%84"><span class="nav-text">7. 附加组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-%E6%B3%A8%E6%84%8F"><span class="nav-text">8. 注意</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%BB%84groups"><span class="nav-text">2. 组groups</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81"><span class="nav-text">3. 服务器忘记密码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-text">4. 文件权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E9%AB%98%E7%BA%A7%E6%9D%83%E9%99%90"><span class="nav-text">5. 高级权限</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-suid"><span class="nav-text">1.suid</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-sgid"><span class="nav-text">2.sgid</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-sticky"><span class="nav-text">3.sticky</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E9%9A%90%E8%97%8F%E6%9D%83%E9%99%90"><span class="nav-text">6. 隐藏权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-umask%E6%9D%83%E9%99%90%E6%8E%A9%E7%A0%81"><span class="nav-text">7. umask权限掩码</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB%E3%80%81vim"><span class="nav-text">八、vim</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-vim%E4%BD%BF%E7%94%A8"><span class="nav-text">1. vim使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-vim%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="nav-text">2. vim基本配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D%E3%80%81%E7%AE%A1%E9%81%93%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-text">九、管道和重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-text">1. 重定向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%AE%A1%E9%81%93"><span class="nav-text">2. 管道</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-tee%E4%B8%89%E9%80%9A%E5%AE%9A%E5%90%91"><span class="nav-text">3. tee三通定向</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E3%80%81%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="nav-text">十、服务管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-systemctl%E6%9C%8D%E5%8A%A1"><span class="nav-text">1. systemctl服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%97%B6%E9%97%B4%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">2. 时间服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Apache%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="nav-text">3. Apache编译安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%97%A5%E5%BF%97"><span class="nav-text">4.日志</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6-%E7%B3%BB%E7%BB%9F%E3%80%81%E8%BF%9B%E7%A8%8B%E3%80%81%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="nav-text">1. 常见的日志文件(系统、进程、应用程序)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%9B%86%E4%B8%AD%E5%BC%8F%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="nav-text">2.集中式日志管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97"><span class="nav-text">2. 自定义日志</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2"><span class="nav-text">3. 日志切割</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="nav-text">5. 计划任务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-at-%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="nav-text">1. at 一次性计划任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-crontab%E5%BE%AA%E7%8E%AF%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="nav-text">2. crontab循环计划任务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-FTP%E6%9C%8D%E5%8A%A1"><span class="nav-text">6. FTP服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="nav-text">1. 基本配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-FTP%E9%83%A8%E7%BD%B2"><span class="nav-text">2. FTP部署</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-FTP%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-text">3.FTP远程仓库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-NFS%E9%83%A8%E7%BD%B2"><span class="nav-text">7. NFS部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-DNS%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="nav-text">8. DNS域名系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-DNS%E6%A6%82%E5%BF%B5"><span class="nav-text">1. DNS概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-DNS%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-text">2. DNS客户端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1"><span class="nav-text">9. 远程管理服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ssh"><span class="nav-text">1.ssh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-JumpServer"><span class="nav-text">2.JumpServer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">10. 操作系统初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-WEB%E6%9C%8D%E5%8A%A1"><span class="nav-text">11. WEB服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-web%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-text">1. web中间件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Apache%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-text">2. Apache基本使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-LAMP%E6%9E%B6%E6%9E%84"><span class="nav-text">3. LAMP架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-LNMP%E6%9E%B6%E6%9E%84"><span class="nav-text">4.LNMP架构</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ShowerSheep"
      src="/images/avatar.JPG">
  <p class="site-author-name" itemprop="name">ShowerSheep</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ShowerSheep" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ShowerSheep" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:tingyu3366@gmail.com" title="E-Mail → mailto:tingyu3366@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/ShowerSheep" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://showersheep.github.io/2022/08/09/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="ShowerSheep">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ShowerSheep">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Linux | ShowerSheep">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux<a href="https://github.com/ShowerSheep/ShowerSheep.github.io/tree/branch-name/subdirectory-name/_posts/Linux.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-09 20:03:01" itemprop="dateCreated datePublished" datetime="2022-08-09T20:03:01+08:00">2022-08-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-10 00:35:37" itemprop="dateModified" datetime="2022-09-10T00:35:37+08:00">2022-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>36k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>33 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="一、步入Linux世界"><a href="#一、步入Linux世界" class="headerlink" title="一、步入Linux世界"></a>一、步入Linux世界</h1><h2 id="1-Linux内核：操作系统"><a href="#1-Linux内核：操作系统" class="headerlink" title="1. Linux内核：操作系统"></a>1. Linux内核：操作系统</h2><p>1.硬件设备 管理使用<br>2.软件程序 （系统）——&gt;操作软件<br>3.系统内存<br>4.文件管理：保存文件，删除文件，修改文件 </p>
<ul>
<li>文件系统：读、写的标准（ext4、FAT32、exFAT、NTFS、APFS…） </li>
<li>Linux查看文件系统：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -T</span><br></pre></td></tr></table></figure>

 <span id="more"></span>

<h2 id="2-GNU"><a href="#2-GNU" class="headerlink" title="2. GNU"></a>2. GNU</h2><p>GUN是一个组织</p>
<blockquote>
<p>Unix上具有的一些软件，Linux内核本身没有，所以GNU他们模仿Unix，为Linux写了一些必要的软件</p>
</blockquote>
<p>1.GNU核心：<br>    原本在Unix上的一些命令和工具，被模仿(移植)到了Linux上。供Linux使用的这套I具:coreutils coreutilities软件包。<br>（1）用来处理文件的工具<br>（2）用来操作文本的工具<br>（3）用来管理进程的工具 </p>
<p>2.Shell<br>    提供给用户使用的软件:用户拿它来使用电脑，并且和电脑交互<br>    命令行壳层提供一个命令行界面(CLI) ;而图形壳层提供一个图形用户界面(GUI)<br>    Linux shell ——&gt; CLI  COmmand-Line Interface </p>
<p>3.CLI shell<br>    Bash shell 基础shell </p>
<p>4.GUI </p>
<ul>
<li>X Windows：windows</li>
<li>KDE  ： windows、macOS</li>
<li>GNOME ： manjaro</li>
<li>Unity ：Ubuntu</li>
</ul>
<h2 id="3-开机启动流程"><a href="#3-开机启动流程" class="headerlink" title="3. 开机启动流程"></a>3. 开机启动流程</h2><p>linux centos 7 开机启动流程<br>加电自检<br>MBR引导，引导系统系统<br>加载内核信息<br>启动第一个服务（systemd）<br>加载启动级别<br>加载初始化脚本<br>启动开机自启的服务<br>进入到登录界面</p>
<h2 id="4-启动级别"><a href="#4-启动级别" class="headerlink" title="4. 启动级别"></a>4. 启动级别</h2><blockquote>
<p>  lrwxrwxrwx  1 root root  15 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel0.target	# 关机<br>  lrwxrwxrwx  1 root root  13 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel1.target	# 单用户系统，不需要登陆<br>  lrwxrwxrwx  1 root root  17 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel2.target	# 多用户系统，命令行模式登陆<br>  lrwxrwxrwx  1 root root  17 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel3.target	# 最小化界面<br>  lrwxrwxrwx  1 root root  17 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel4.target	# 未使用模式<br>  lrwxrwxrwx  1 root root  16 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel5.target	# 图形化界面<br>  lrwxrwxrwx  1 root root  13 Oct 15  2019 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;runlevel6.target	# reboot</p>
</blockquote>
<p>7个级别： 0 - 6</p>
<p>0 关闭<br>3 最小化<br>5 图形化<br>6 重启</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">init 0 	<span class="comment"># 关机</span></span><br><span class="line">init 3</span><br><span class="line">init 5</span><br><span class="line">init 6 <span class="comment"># 重启 === reboot</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong><br>如果我在图形化界面中执行init 3，图形化界面会立刻切换成最小化<br>如果我在最小化界面中执行init 5,（前提是图形化已安装）最小化会立刻切换成图形化</p>
<h1 id="二、Bash-shell最基本命令"><a href="#二、Bash-shell最基本命令" class="headerlink" title="二、Bash shell最基本命令"></a>二、Bash shell最基本命令</h1><h2 id="1-CLI命令行"><a href="#1-CLI命令行" class="headerlink" title="1. CLI命令行"></a>1. CLI命令行</h2><p>查看某个命令帮助</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man xx</span><br></pre></td></tr></table></figure>

<p>点击进入：<a target="_blank" rel="noopener" href="https://wangchujiang.com/linux-command/">查命令网址</a></p>
<h2 id="2-目录结构"><a href="#2-目录结构" class="headerlink" title="2. 目录结构"></a>2. 目录结构</h2><p>windows 分盘 CDEF…</p>
<p>C:\software\Devsoft\Git</p>
<p><strong>Linux一切皆为文件</strong></p>
<blockquote>
<p>~：用户home目录<br>&#x2F;：Linux最根目录<br><strong>&#x2F;bin</strong> ：二进制目录 GNU工具 ls等自带的命令 （存放许多用户级）<br><strong>&#x2F;etc</strong> ：系统配置文件<br><strong>&#x2F;home</strong> ：主目录，存放所有普通用户家目录<br>&#x2F;lib ：库目录<br>lost+found ：意外文件<br>&#x2F;mnt ：挂载目录，U盘(挂载 —&gt; 外在设备和电脑进行连接)<br><strong>&#x2F;proc</strong> ：伪文件系统（存放虚拟文件，例：进程文件）<br>&#x2F;run ：运行目录<br>&#x2F;snap<br>&#x2F;tmp ：临时目录文件<br><strong>&#x2F;var</strong>： 可变目录 log日志文件，存放变化文件<br><strong>&#x2F;boot</strong> ：启动目录，内核文件<br><strong>&#x2F;dev</strong> ：设备目录（windows设备管理器）<br>&#x2F;media：媒体目录<br><strong>&#x2F;opt</strong> ：可选目录，空目录<br><strong>&#x2F;root</strong> ：root用户主目录，管理员<br><strong>&#x2F;sbin</strong> ：系统二进制目录，GNU高级管理员使用的命令工具<br>&#x2F;srv ：服务目录 本地服务<br><strong>&#x2F;usr</strong> ：用户二进制目录，GNU工具（系统文件，C:&#x2F;&#x2F;Windows）</p>
</blockquote>
<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220810203203126.png" alt="image-20220810203203126"></p>
<p>FHS 文件系统层级标准</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.pathname.com/">www.pathname.com</a></p>
</blockquote>
<h2 id="3-cd命令"><a href="#3-cd命令" class="headerlink" title="3. cd命令"></a>3. cd命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>		<span class="comment"># 进入用户主目录；</span></span><br><span class="line"><span class="built_in">cd</span> /	<span class="comment"># 进入根目录</span></span><br><span class="line"><span class="built_in">cd</span> ~	<span class="comment"># 进入用户主目录；</span></span><br><span class="line"><span class="built_in">cd</span> ..	<span class="comment"># 返回上级目录（若当前目录为“/“，则执行完后还在“/&quot;；&quot;..&quot;为上级目录的意思）；</span></span><br><span class="line"><span class="built_in">cd</span> ../..	<span class="comment"># 返回上两级目录；</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> !$	<span class="comment"># 把上个命令的参数作为cd参数使用。</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">pwd</span>		<span class="comment"># 显示当前目录</span></span><br></pre></td></tr></table></figure>

<p>组合命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> .. &amp;&amp; <span class="built_in">ls</span> -alF</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220810203302682.png" alt="image-20220810203302682"></p>
<h2 id="4-文件目录"><a href="#4-文件目录" class="headerlink" title="4. 文件目录"></a>4. 文件目录</h2><h3 id="1-路径"><a href="#1-路径" class="headerlink" title="1. 路径"></a>1. 路径</h3><h4 id="1-绝对路径（全）"><a href="#1-绝对路径（全）" class="headerlink" title="(1) 绝对路径（全）"></a>(1) 绝对路径（全）</h4><p>Windows：盘符:\文件及\文件夹…\文件夹\文件名.后缀名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit /home/frank/Documents/doc/1.txt	<span class="comment"># 打开文件（macos --&gt; open）</span></span><br></pre></td></tr></table></figure>

<p>文件不存在时，临时创建一个文件</p>
<h4 id="2-相对路径"><a href="#2-相对路径" class="headerlink" title="(2) 相对路径"></a>(2) 相对路径</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gedit ./Documents/doc/1.txt</span><br><span class="line">gedit ~/Documents/doc/1.txt</span><br></pre></td></tr></table></figure>

<p>单点符 . 当前文件夹</p>
<p>双点符 .. 当前目录的父目录</p>
<h2 id="5-ls命令："><a href="#5-ls命令：" class="headerlink" title="5. ls命令："></a>5. ls命令：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span>       <span class="comment"># 仅列出当前目录可见文件</span></span><br><span class="line"><span class="built_in">ls</span> -l    <span class="comment"># 列出当前目录可见文件详细信息</span></span><br><span class="line"><span class="built_in">ls</span> -hl   <span class="comment"># 列出详细信息并以可读大小显示文件大小，增加文件大小单位</span></span><br><span class="line"><span class="built_in">ls</span> -al   <span class="comment"># 列出所有文件（包括隐藏）的详细信息</span></span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -F		<span class="comment"># -F区分文件夹和文件</span></span><br><span class="line"><span class="built_in">ls</span> Documents/ -F -R		<span class="comment"># -R列出内容</span></span><br><span class="line"><span class="built_in">ls</span> -FR</span><br><span class="line"><span class="comment">## 文件扩展匹配符</span></span><br><span class="line"><span class="built_in">ls</span> -l xxx*	<span class="comment"># 找到xxx开头的文件 </span></span><br><span class="line"><span class="built_in">ls</span> -l xxx?	<span class="comment"># *代表多个符号，？代表一个符号</span></span><br><span class="line"><span class="comment">## 元字符通配符</span></span><br><span class="line"><span class="built_in">ls</span> -l f[a-x]ank.txt</span><br><span class="line"><span class="built_in">ls</span> -l f[!a-x]ank.txt	<span class="comment"># 取反</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/7_F9%60ACQC%607_I%7EMLVGHWB56.png" alt="7_F9`ACQC`7_I~MLVGHWB56"></p>
<p>文件扩展匹配符  *  ?</p>
<p>元字符通配符  [ ]</p>
<p>ll显示内容：</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220817095041143.png" alt="image-20220817095041143"></p>
<p>扩展：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /opt/ /home/		<span class="comment"># 同时查看多个目录文件</span></span><br><span class="line"><span class="built_in">ls</span> /bin | grep <span class="built_in">ls</span>	<span class="comment"># 过滤ls</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/ERW3QVTZE.png" alt="ERW3QVTZE"></p>
<p>查看文件inode号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -i file</span><br></pre></td></tr></table></figure>



<h2 id="6-touch"><a href="#6-touch" class="headerlink" title="6. touch"></a>6. touch</h2><p><strong>touch命令</strong> 有两个功能：一是用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来；二是用来创建新的空文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> 2.txt		<span class="comment"># 创建新的空文件</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">touch</span> /opt/test.c /opt/test_1.c</span><br><span class="line"><span class="built_in">touch</span> /opt/&#123;test.c,test_1.c&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">touch</span> /opt/file&#123;1..100&#125;.txt</span><br><span class="line"><span class="built_in">touch</span> /opt/test_&#123;a..z&#125;.c</span><br></pre></td></tr></table></figure>

<h2 id="7-cp"><a href="#7-cp" class="headerlink" title="7. cp"></a>7. cp</h2><p>将源文件或目录复制到目标文件或目录中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> (你想复制的文件) (你想复制到哪)</span><br><span class="line"><span class="built_in">cp</span> 1.txt 2.txt	<span class="comment"># 2.txt文件不存在，创建</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> -i 1.txt 2.txt</span><br><span class="line">-i：覆盖既有文件之前先询问用户；</span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> -r /home/frank/Documents/doc /home/frank/Downloads/</span><br><span class="line"></span><br><span class="line">-R/r：递归处理，将指定目录下的所有文件与子目录一并处理；</span><br><span class="line">-v：详细显示命令执行的操作。</span><br></pre></td></tr></table></figure>



<h2 id="8-ln文件链接"><a href="#8-ln文件链接" class="headerlink" title="8. ln文件链接"></a>8. ln文件链接</h2><p>符号链接（软链接）<strong>Symbolic link</strong>（soft links）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s 1.java 1_linkfile	<span class="comment"># 创建软链接（多）</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ln</span> 1.java 2_linkfile	<span class="comment"># 创建硬链接</span></span><br></pre></td></tr></table></figure>

<p>cp命令复制后果：复制的是链接文件</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/G9P6W.jpg" alt="G9P6W"></p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/aaofaofa.jpg" alt="aaofaofa"></p>
<p>软连接：</p>
<p>1.源文件删除后，链接文件不可用<br>2.软链接文件，源文件和链接文件inode号不同<br>3.软链接可以链接目录<br>4.软链接可以跨分区</p>
<p>硬链接：</p>
<p>1.源文件删除后，链接文件可用<br>2.硬链接源文件和链接文件inode相同<br>3.硬链接不可以链接目录<br>4.硬链接不可以跨分区</p>
<h2 id="9-mv重命名-x2F-移动"><a href="#9-mv重命名-x2F-移动" class="headerlink" title="9. mv重命名&#x2F;移动"></a>9. mv重命名&#x2F;移动</h2><p><strong>移动文件，文件夹</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> 123.c xxx.c	<span class="comment"># 重命名</span></span><br><span class="line"><span class="built_in">mv</span> text.c ~/Document/	<span class="comment"># 移动文件</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/IQKK2N.png" alt="IQKK2N"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> !$</span><br><span class="line"><span class="comment">## 上一条命令的最后一个目录，中间不能有其他命令</span></span><br></pre></td></tr></table></figure>



<p><strong>注意事项：</strong></p>
<p>mv与cp的结果不同，mv好像文件“搬家”，文件个数并未增加。而cp对文件进行复制，文件个数增加了。</p>
<h2 id="10-rm删除"><a href="#10-rm删除" class="headerlink" title="10. rm删除"></a>10. rm删除</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> xxx.xx</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/iafhoafhoaf.png" alt="iafhoafhoaf"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /*	<span class="comment"># r遍历，f强制</span></span><br></pre></td></tr></table></figure>

<p><strong>非常危险</strong></p>
<p>使用替代</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -ri <span class="built_in">dd</span>/</span><br></pre></td></tr></table></figure>

<h2 id="11-mkdir创建文件夹"><a href="#11-mkdir创建文件夹" class="headerlink" title="11. mkdir创建文件夹"></a>11. mkdir创建文件夹</h2><p>创建文件夹 make directories</p>
<p>创建子目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p js/src/util	<span class="comment"># 递归创建子目录</span></span><br><span class="line">-v	显示创建过程</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -pv &#123;a/&#123;c,d/&#123;e,f/&#123;h,i&#125;&#125;&#125;,b/g&#125;		</span><br><span class="line"><span class="comment">## 在当前目录下创建一个a和b的目录．在ａ目录下在创建ｃ和ｄ，在ｄ下创建一个ｅ和ｆ，在ｂ下创建一个ｇ，在ｆ下创建一个ｈ和ｉ</span></span><br></pre></td></tr></table></figure>

<p>用来删除空目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rmdir</span>		<span class="comment"># 空目录</span></span><br></pre></td></tr></table></figure>



<h2 id="12-文件类型"><a href="#12-文件类型" class="headerlink" title="12. 文件类型"></a>12. 文件类型</h2><p>查看文件类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">file 1.txt</span><br><span class="line">1.txt: ASCII text</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">file Project</span><br><span class="line">Project: directory</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  -  普通文件（文本文件，二进制文件，压缩文件，电影，图片。。。）<br>  d 目录文件（蓝色）<br>  b 块设备文件（块设备）存储设备硬盘，U盘 &#x2F;dev&#x2F;sda, &#x2F;dev&#x2F;sda1<br>  c 字符设备文件（字符设备）打印机，终端 &#x2F;dev&#x2F;tty1, &#x2F;dev&#x2F;zero<br>  l 链接文件（淡蓝色）<br>  s 套接字文件(ll &#x2F;dev&#x2F;log)<br>  p 管道文件</p>
</blockquote>
<h2 id="13-文件系统"><a href="#13-文件系统" class="headerlink" title="13. 文件系统"></a>13. 文件系统</h2><p>xfs ext2 ext3 nfs ntfs</p>
<h2 id="14-cat，more，less，tail，head查看文件内容"><a href="#14-cat，more，less，tail，head查看文件内容" class="headerlink" title="14. cat，more，less，tail，head查看文件内容"></a>14. cat，more，less，tail，head查看文件内容</h2><h3 id="1-cat只适合看短的文件"><a href="#1-cat只适合看短的文件" class="headerlink" title="1. cat只适合看短的文件"></a>1. cat只适合看短的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> -A 1.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">tac</span> xx	<span class="comment"># 倒看</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/oaioaia.png" alt="oaioaia"></p>
<h3 id="2-more按页展示"><a href="#2-more按页展示" class="headerlink" title="2. more按页展示"></a>2. more按页展示</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more 1.txt</span><br></pre></td></tr></table></figure>



<ul>
<li>按 <code>Space</code>键：显示文本的下一屏内容。</li>
<li>按 <code>Enter</code> 键：只显示文本的下一行内容。</li>
<li>按斜线符<code>|</code>：接着输入一个模式，可以在文本中寻找下一个相匹配的模式。</li>
<li>按 <code>H</code> 键：显示帮助屏，该屏上有相关的帮助信息。</li>
<li>按 <code>B</code> 键：显示上一屏内容。</li>
<li>按 <code>Q</code> 键：退出more命令。</li>
</ul>
<h3 id="3-less分屏上下翻页浏览文件内容"><a href="#3-less分屏上下翻页浏览文件内容" class="headerlink" title="3. less分屏上下翻页浏览文件内容"></a>3. less分屏上下翻页浏览文件内容</h3><p>用less命令显示文件时，用 <code>PageUp</code> 键向上翻页，用  <code>PageDown</code> 键向下翻页。要退出less程序，应按 <code>Q</code> 键</p>
<h3 id="4-tail和head"><a href="#4-tail和head" class="headerlink" title="4. tail和head"></a>4. tail和head</h3><p>tail显示文件结尾</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tail</span> demo.c		<span class="comment"># 只显示后面10行</span></span><br><span class="line"><span class="built_in">tail</span> -n 2 demo.c	<span class="comment"># 只显示后面两行</span></span><br></pre></td></tr></table></figure>

<p>head显示文件开头</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span> -3 demo.c	<span class="comment"># 看前3行</span></span><br></pre></td></tr></table></figure>

<p>实时看文件内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tailf</span><br><span class="line"><span class="built_in">tail</span> -f	<span class="comment"># 当文件被删除后，就算重新创建不能实时查看</span></span><br><span class="line"><span class="built_in">tail</span> -F	<span class="comment"># 能够实时查看文件内容，文件删除重新创建依然能够实时查看</span></span><br></pre></td></tr></table></figure>

<h2 id="15-date显示当前日期时间"><a href="#15-date显示当前日期时间" class="headerlink" title="15. date显示当前日期时间"></a>15. date显示当前日期时间</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%y%m%d%H%M%S		<span class="comment"># 输出时间</span></span><br><span class="line"><span class="built_in">date</span> +%y-%m-%d\ %H:%M:%S	<span class="comment"># 输出时间</span></span><br><span class="line"><span class="built_in">date</span> +%F	<span class="comment"># 输出日期</span></span><br><span class="line"><span class="built_in">date</span> +%D	<span class="comment"># 输出日期</span></span><br><span class="line"><span class="built_in">date</span> -s 8:57	<span class="comment"># 设置时间</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220817110043398.png" alt="image-20220817110043398"></p>
<h1 id="三、更上一层系统上的shell"><a href="#三、更上一层系统上的shell" class="headerlink" title="三、更上一层系统上的shell"></a>三、更上一层系统上的shell</h1><h2 id="1-进程（“任务管理器”）"><a href="#1-进程（“任务管理器”）" class="headerlink" title="1. 进程（“任务管理器”）"></a>1. 进程（“任务管理器”）</h2><p>system monitor，系统进程</p>
<h3 id="1-静态查看-ps"><a href="#1-静态查看-ps" class="headerlink" title="1. 静态查看 ps"></a>1. 静态查看 ps</h3><p>用于报告当前系统的进程状态（PID：医院挂号）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br><span class="line">ps axo pid,<span class="built_in">comm</span>,pcpu	<span class="comment"># 查看进程的PID、名称以及CPU 占用率</span></span><br><span class="line">ps -aux | grep named	<span class="comment"># 查看named进程详细信息</span></span><br><span class="line"></span><br><span class="line">ps aux | less	<span class="comment">#分页显示</span></span><br><span class="line"></span><br><span class="line">a 只能查看所有终端进程</span><br><span class="line">u 显示进程拥有者</span><br><span class="line">x 显示系统内所有进程</span><br><span class="line"></span><br><span class="line">-f 显示完整的格式列表</span><br><span class="line">-e 显示所有进程</span><br><span class="line">-l 长格式显示</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/WCCKAZWJ.png" alt="WCCKAZWJ"></p>
<blockquote>
<p>  <strong>USER</strong>: 运行进程的用户<br>  <strong>PID</strong>： 进程ID<br>  <strong>%CPU</strong>: CPU占用率<br>  <strong>%MEM</strong>: 内存占用率</p>
<p>  VSZ： 占用虚拟内存<br>  RSS: 占用实际内存，驻留内存<br>  TTY： 进程运行的终端，在终端运行显示终端标识，不在终端运行显示”?”<br>  STAT： 进程状态 man ps (&#x2F;STATE)</p>
</blockquote>
<p>进程状态：</p>
<blockquote>
<p>  <strong>R</strong> 运行<br>  <strong>S</strong> 可中断睡眠 Sleep<br>  <strong>T</strong> 停止的进程<br>  <strong>Z</strong> 僵尸进程</p>
</blockquote>
<p>进程属性：</p>
<blockquote>
<p>  Ss s 进程的领导者，父进程<br>  S&lt; &lt; 优先级较高的进程<br>  SN N 优先级较低的进程<br>  R+ + 表示运行在前台的进程组</p>
<p>  Sl l 以线程的方式运行</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ps aux --<span class="built_in">sort</span> %cpu	<span class="comment"># 按照CPU占用从小到大</span></span><br><span class="line">ps aux --<span class="built_in">sort</span> -%cpu <span class="comment"># 从大到小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看系统中占用CPU最多的进程</span></span><br><span class="line">ps aux --<span class="built_in">sort</span> %cpu | <span class="built_in">tail</span> -1</span><br><span class="line">ps aux --<span class="built_in">sort</span> -%cpu | <span class="built_in">head</span> -2</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看系统中占用CPU前十</span></span><br><span class="line">ps aux --<span class="built_in">sort</span> %cpu | <span class="built_in">tail</span></span><br><span class="line">ps aux --<span class="built_in">sort</span> -%cpu | <span class="built_in">head</span> -11</span><br><span class="line"></span><br><span class="line"><span class="comment">## 同样的可以查看占用内存</span></span><br><span class="line">%mem</span><br></pre></td></tr></table></figure>

<p>查看Apache进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps auxf | grep httpd</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/kajdkad.png" alt="kajdkad"></p>
<p>2.自定义显示 axo</p>
<p>axo顺序不能改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps axo user,pid,ppid,%mem,<span class="built_in">command</span></span><br></pre></td></tr></table></figure>

<p>指定进程查看相关进程信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps axo user,pid,ppid,%mem,<span class="built_in">command</span> | grep httpd</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/oadnana.png" alt="oadnana"></p>
<p>E.G.</p>
<p>自定义字段显示根据%cpu排序显示前10行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps axo user,pid,ppid,%mem,%cpu,<span class="built_in">command</span> --<span class="built_in">sort</span> -%cpu | <span class="built_in">head</span></span><br></pre></td></tr></table></figure>

<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822155845737.png" alt="image-20220822155845737"></p>
<p>3.pid目录</p>
<p>数字目录对应进程pid</p>
<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822160729125.png" alt="image-20220822160729125"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /run/</span><br></pre></td></tr></table></figure>

<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822161025725.png" alt="image-20220822161025725"></p>
<p>以.pid结尾的文件，pid文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pidof sshd</span><br><span class="line">pgrep sshd</span><br><span class="line">lsof -i:22</span><br></pre></td></tr></table></figure>

<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822161448120.png" alt="image-20220822161448120"></p>
<p>4.扩展</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">w</span><br><span class="line"><span class="built_in">who</span></span><br></pre></td></tr></table></figure>

<p>用来查看谁连接过</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822162013710.png" alt="image-20220822162013710"></p>
<h3 id="2-动态查看-top-x2F-htop"><a href="#2-动态查看-top-x2F-htop" class="headerlink" title="2. 动态查看 top &#x2F; htop"></a>2. 动态查看 top &#x2F; htop</h3><p>实时动态地查看系统的整体运行情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line">htop</span><br></pre></td></tr></table></figure>

<p>1.top</p>
<h3 id="3-网络进程"><a href="#3-网络进程" class="headerlink" title="3. 网络进程"></a>3. 网络进程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install net-tools</span><br></pre></td></tr></table></figure>

<p>系统上每一个服务都有自己默认的端口号</p>
<blockquote>
<p>  vnc 5900<br>  ssh 22<br>  http 80 (nginx apache)<br>  https 443<br>  mariadb&#x2F;mysql 3306<br>  php 9000<br>  redis 6379<br>  tomcat (8080 8009 8005)</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">netstat -auntpl | grep 22		<span class="comment"># 过滤22号端口</span></span><br><span class="line"></span><br><span class="line">-a 所有的进程</span><br><span class="line">-u udp进程</span><br><span class="line">-n 显示段口号  vnc 5900 ftp21、20  ssh 22 http 80 (apache,nginx) https 443   mysql/mariadb  3306  php 9000   redis 6379   tomcat(8009 8080 8005)</span><br><span class="line">-t tcp进程</span><br><span class="line">-p 显示程序的pid 和 名称</span><br><span class="line">-l listening 监听的进程</span><br></pre></td></tr></table></figure>

<p>ss 推荐使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ss -antpl | grep 22</span><br><span class="line"></span><br><span class="line">查看网络进程</span><br><span class="line">-a 所有的进程</span><br><span class="line">-u udp进程</span><br><span class="line">-n 显示段口号 5900 vnc 21、20 ftp</span><br><span class="line">-t tcp进程</span><br><span class="line">-p 显示程序的pid 和 名称</span><br><span class="line">-l listening 监听的</span><br></pre></td></tr></table></figure>



<h2 id="2-kill"><a href="#2-kill" class="headerlink" title="2. kill"></a>2. kill</h2><p>打开记事本，结束记事本进程</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/kankland.png" alt="kankland"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 语法格式</span></span><br><span class="line"><span class="built_in">kill</span> +信号 pid</span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span> -9 xx	<span class="comment"># 强制终止</span></span><br><span class="line"></span><br><span class="line">-1   HUP  重新加载进程或者重新加载配置文件</span><br><span class="line">-9   KILL 强制杀死</span><br><span class="line">-15  TERM 正常杀死(这个信号可以默认不写)</span><br><span class="line">-18  CONT 激活进程</span><br><span class="line">-19  STOP 挂起进程</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>1信号pid不会改变，但重启服务pid会改变</p>
<p>pkill：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum -y install psmisc</span><br><span class="line"></span><br><span class="line">pkill -9 进程名称</span><br><span class="line">pkill -9 -t 终端 名称</span><br><span class="line"></span><br><span class="line"><span class="comment">## 不加-9只杀死在终端上运行的进程，加-9连终端本身一起干掉</span></span><br></pre></td></tr></table></figure>

<h2 id="3-mount挂载"><a href="#3-mount挂载" class="headerlink" title="3. mount挂载"></a>3. mount挂载</h2><p>同汇编</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l	<span class="comment"># 显示U盘真实默认路径</span></span><br><span class="line">sudo mount /dev/sdc1 /mnt/ 	<span class="comment"># 把原本挂载路径映射到另一个目录，挂载两个目录</span></span><br><span class="line"></span><br><span class="line">sudo umount /mnt	<span class="comment"># 卸载，一定要退出默认挂载目录，才能卸载成功</span></span><br></pre></td></tr></table></figure>

<p>安卓手机挂载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/run/user/1000/gvfs	# MTP协议</span><br></pre></td></tr></table></figure>

<h2 id="4-df-显示磁盘的信息"><a href="#4-df-显示磁盘的信息" class="headerlink" title="4. df 显示磁盘的信息"></a>4. df 显示磁盘的信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span>	<span class="comment"># 显示磁盘的相关信息</span></span><br><span class="line"><span class="built_in">df</span> -h	<span class="comment"># 查看挂载的目录</span></span><br></pre></td></tr></table></figure>

<p>不能把分区挂载到目录，可以目录挂载到目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> <span class="comment"># 显示每个文件和目录的磁盘使用空间</span></span><br></pre></td></tr></table></figure>

<h2 id="5-sort"><a href="#5-sort" class="headerlink" title="5. sort"></a>5. sort</h2><p>对文本文件中所有行进行排序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span> demo.c	<span class="comment"># 按每一行第一个字符排，文件没影响，只是展示</span></span><br><span class="line"><span class="built_in">sort</span> -n demo.c	<span class="comment"># 按照数字大小排</span></span><br></pre></td></tr></table></figure>

<p>其他</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-n, --numeric-sort             根据数字排序。</span><br><span class="line">-r, --reverse                  将结果倒序排列。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 日志非常有用</span></span><br><span class="line">-M, --month-sort               按照非月份、一月、十二月的顺序排序。</span><br><span class="line"></span><br><span class="line">-k, --key=KEYDEF                       通过一个key排序；KEYDEF给出位置和类型。</span><br></pre></td></tr></table></figure>

<h2 id="6-管道符"><a href="#6-管道符" class="headerlink" title="6. | 管道符"></a>6. | 管道符</h2><p>两个命令合并成一个命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">du</span> -sh * | <span class="built_in">sort</span> -nr</span><br></pre></td></tr></table></figure>

<h2 id="7-grep搜索-基础"><a href="#7-grep搜索-基础" class="headerlink" title="7. grep搜索(基础)"></a>7. grep搜索(基础)</h2><p>强大的文本搜索工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;main&#x27;</span> 1.java		<span class="comment"># 有main的所有行</span></span><br><span class="line">grep <span class="string">&#x27;^root&#x27;</span> /etc/passwd	<span class="comment"># 以root开头</span></span><br><span class="line">grep <span class="string">&#x27;root$&#x27;</span> /etc/passwd	<span class="comment"># 以root结尾</span></span><br></pre></td></tr></table></figure>

<p><code>grep -v</code>取反</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w | grep -v load | grep -v FROM |awk <span class="string">&#x27;&#123;print $3&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>打印出第2行第3列</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F : NR==2<span class="string">&#x27;&#123;print $3&#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure>



<h2 id="8-find文件查找"><a href="#8-find文件查找" class="headerlink" title="8. find文件查找"></a>8. find文件查找</h2><h3 id="1-按照文件名"><a href="#1-按照文件名" class="headerlink" title="1.按照文件名"></a>1.按照文件名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name <span class="string">&quot;ifcfg-eth0&quot;</span></span><br><span class="line"></span><br><span class="line">-name 区分大小写查找</span><br><span class="line">-iname 不区分大小写查找</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找</span></span><br><span class="line">find /etc -iname <span class="string">&quot;ifcfg*&quot;</span></span><br><span class="line">find /etc -iname <span class="string">&quot;*fg*&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-按照文件大小"><a href="#2-按照文件大小" class="headerlink" title="2.按照文件大小"></a>2.按照文件大小</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">find /etc -size +5M		<span class="comment"># 大于5M的</span></span><br><span class="line">find /etc -size 5M		<span class="comment"># 等于5M</span></span><br><span class="line">find /etc -size -5M		<span class="comment"># 小于5M</span></span><br><span class="line"></span><br><span class="line">find /etc -size +5M -<span class="built_in">ls</span>		<span class="comment"># 查看查到的文件的详细信息</span></span><br></pre></td></tr></table></figure>

<h3 id="3-按照时间"><a href="#3-按照时间" class="headerlink" title="3.按照时间"></a>3.按照时间</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find /etc -mtime +5	<span class="comment"># 修改时间超过5天</span></span><br><span class="line">find /etc -mtime 5	<span class="comment"># 修改时间等于5天</span></span><br><span class="line">find /etc -mtime -5	<span class="comment"># 修改时间小于5天</span></span><br></pre></td></tr></table></figure>

<p>查看文件属性(文件大小，时间)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stat</span> 文件名</span><br></pre></td></tr></table></figure>

<p>查找三个时间区别:</p>
<blockquote>
<p>  Access &#x3D;&#x3D; atime 访问时间</p>
<p>  Modify &#x3D;&#x3D; mtime 修改时间</p>
<p>  Change &#x3D;&#x3D; ctime 改变时间</p>
</blockquote>
<h3 id="4-按文件属主、属组"><a href="#4-按文件属主、属组" class="headerlink" title="4.按文件属主、属组"></a>4.按文件属主、属组</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">find /home -user jack		<span class="comment"># 属主是jack的文件</span></span><br><span class="line">find /home -group hr	<span class="comment"># 属组是hr组的文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#多条件查找（and or）</span></span><br><span class="line">find /home -user jack -group hr			<span class="comment"># 两者都满足</span></span><br><span class="line">find /home -user jack -a -group hr	<span class="comment"># 并且</span></span><br><span class="line">find /home -user jack -o -group hr	<span class="comment"># 或者</span></span><br><span class="line"></span><br><span class="line">find /home -not -user jack	<span class="comment"># 取反，查找不是jack的文件</span></span><br><span class="line">find /home ! -user jack</span><br></pre></td></tr></table></figure>

<h3 id="5-按文件类型"><a href="#5-按文件类型" class="headerlink" title="5.按文件类型"></a>5.按文件类型</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">find /dev -<span class="built_in">type</span> f 	<span class="comment"># f普通</span></span><br><span class="line">find /dev -<span class="built_in">type</span> d 	<span class="comment"># d目录</span></span><br><span class="line">l</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">s</span><br><span class="line">p</span><br></pre></td></tr></table></figure>

<h3 id="6-按文件权限"><a href="#6-按文件权限" class="headerlink" title="6.按文件权限"></a>6.按文件权限</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找权限为644的文件</span></span><br><span class="line">find ./ -perm 644</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查找权限600及以上，不止一个</span></span><br><span class="line">find  -perm -600</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826162941903.png" alt="image-20220826162941903"></p>
<p>111:644</p>
<p>222:600</p>
<p>333:777</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163043458.png" alt="image-20220826163043458"></p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163113293.png" alt="image-20220826163113293"></p>
<h3 id="7-按正则表达式"><a href="#7-按正则表达式" class="headerlink" title="7.按正则表达式"></a>7.按正则表达式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">find /etc -regex <span class="string">&#x27;.*ifcfg-eth[0-9]&#x27;</span></span><br><span class="line"></span><br><span class="line">.* 任意多个字符</span><br><span class="line">[0-9] 任意一个数字</span><br><span class="line">[a-z] 任意一个字母</span><br><span class="line">+ 前面字符一次或者多次</span><br><span class="line">\ 转义符</span><br></pre></td></tr></table></figure>

<p>用正则，前边必须加 <code>.*</code> (与-name区分)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /etc/ -regex <span class="string">&#x27;.*ifcfg-ens[0-9][0-9]&#x27;</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220826163824187.png" alt="image-20220826163824187"></p>
<h3 id="8-取反"><a href="#8-取反" class="headerlink" title="8.取反"></a>8.取反</h3><p>-not &#x2F; !</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find /etc ! -size 5M		<span class="comment"># 不等于5M</span></span><br><span class="line">find /etc -not -size 5M</span><br><span class="line"></span><br><span class="line">find ./ ! -<span class="built_in">type</span> f	<span class="comment">#取反</span></span><br></pre></td></tr></table></figure>

<h3 id="9-查找文件动作"><a href="#9-查找文件动作" class="headerlink" title="9.查找文件动作"></a>9.查找文件动作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">ls</span>：类似<span class="built_in">ls</span> -l的形式显示每一个文件的详细</span><br><span class="line"></span><br><span class="line">-<span class="built_in">print</span>: 显示（不加默认动作）</span><br><span class="line">-delete: 将查询到的文件删除</span><br><span class="line"></span><br><span class="line">-ok COMMAND &#123;&#125; ; 每一次操作都需要用户确认,&#123;&#125;表示引用找到的文件,是占位符</span><br><span class="line">-<span class="built_in">exec</span> COMMAND &#123;&#125; ; 每次操作无需确认</span><br></pre></td></tr></table></figure>



<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name <span class="string">&quot;*.txt&quot;</span> -ok <span class="built_in">cp</span>  &#123;&#125; /opt \;	<span class="comment">#输入y确认</span></span><br><span class="line">find ./ -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> <span class="built_in">cp</span>  &#123;&#125; /opt \;	<span class="comment">#不需要输入y确认</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/32B2U9ZG.png" alt="32B2U9ZG"></p>
<p>删除文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name <span class="string">&quot;*.sh&quot;</span> -delete</span><br><span class="line">find ./ -name <span class="string">&quot;*.sh&quot;</span> -ok <span class="built_in">rm</span> -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>etc下conf结尾并且权限为644文件 打包压缩为conf.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## rf</span></span><br><span class="line">find ./ \( -name <span class="string">&quot;*.conf&quot;</span> -a -perm 644 \) |xargs -i tar rf /opt/conf.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="10-xargs"><a href="#10-xargs" class="headerlink" title="10.|xargs"></a>10.|xargs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;xingdian*.txt&quot;</span> |xargs <span class="built_in">rm</span> -rf</span><br><span class="line">find /etc -name <span class="string">&quot;ifcfg-eth0&quot;</span> |xargs -I &#123;&#125; <span class="built_in">cp</span> -rf &#123;&#125; /var/tmp</span><br><span class="line">find -<span class="built_in">type</span> f -name <span class="string">&quot;*.txt&quot;</span> |xargs -i <span class="built_in">cp</span> &#123;&#125; /tmp/</span><br><span class="line"></span><br><span class="line">加 -I 参数 需要事先指定替换字符</span><br><span class="line">加 -i 参数直接用 &#123;&#125;就能代替管道之前的标准输出的内容</span><br><span class="line"></span><br><span class="line">推荐使用 -i</span><br></pre></td></tr></table></figure>

<h3 id="11-注意"><a href="#11-注意" class="headerlink" title="11.注意"></a>11.注意</h3><p>准备工作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> yang&#123;1..100&#125;</span><br><span class="line"><span class="built_in">touch</span> file&#123;1..100&#125;</span><br></pre></td></tr></table></figure>

<p>-o</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*9&quot;</span> -o -name <span class="string">&quot;*8&quot;</span>	<span class="comment">#查找文件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829110208167.png" alt="image-20220829110208167"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*9&quot;</span> -o -name <span class="string">&quot;*8&quot;</span> -<span class="built_in">exec</span> <span class="built_in">cp</span> &#123;&#125; /opt/ \;</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112118347.png" alt="image-20220829112118347"></p>
<p>发现只有<code>*8*</code> 的文件被复制了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find \( -name <span class="string">&quot;*9&quot;</span> -o -name <span class="string">&quot;*8&quot;</span> \) -<span class="built_in">exec</span> <span class="built_in">cp</span> &#123;&#125; /opt/ \;</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112301611.png" alt="image-20220829112301611"></p>
<p>-a</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*9&quot;</span> -a -name <span class="string">&quot;file*&quot;</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112755976.png" alt="image-20220829112755976"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*9&quot;</span> -a -name <span class="string">&quot;file*&quot;</span> | xargs -i <span class="built_in">cp</span> &#123;&#125; /opt/</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829112840931.png" alt="image-20220829112840931"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name <span class="string">&quot;*9&quot;</span> -a -name <span class="string">&quot;file*&quot;</span> -<span class="built_in">exec</span> <span class="built_in">cp</span> &#123;&#125; /opt/ \;</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829113004525.png" alt="image-20220829113004525"></p>
<p>发现 <code>-a</code> 不会出现执行一半的情况</p>
<h2 id="9-tar解压缩文件"><a href="#9-tar解压缩文件" class="headerlink" title="9. tar解压缩文件"></a>9. tar解压缩文件</h2><p>压缩包格式</p>
<p>压缩包格式<br>.tar.gz<br>.zip<br>.tar.bz2<br>.tar.xz<br>.tgz<br>……</p>
<p>cvzf 压缩<br>xvzf 解压缩<br>v：显示过程<br>z：压缩格式<br>c：建立新的文档<br>f：指定存档或设备<br>x：解压</p>
<p>z gzip .tar.gz<br>j bzip2 .tar.bz2<br>J xz .tar.xz</p>
<p>unzip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install unzip	<span class="comment">#安装unzip</span></span><br><span class="line">unzip demo.zip		<span class="comment">#使用unzip</span></span><br></pre></td></tr></table></figure>

<p>压缩只能压缩一个文件</p>
<p>先打包在压缩</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf my_c.tar.gz ./C	<span class="comment"># 打包后，以 gzip 压缩</span></span><br></pre></td></tr></table></figure>

<p>将tar包解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf /opt/soft/test/log.tar.gz</span><br><span class="line"></span><br><span class="line">tar xf 7z2201-linux-x64.tar.xz -C /usr/local/7z2201</span><br></pre></td></tr></table></figure>

<p>结合find使用一定要用rf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name <span class="string">&quot;file*&quot;</span> |args -i tar rf /opt/file.tar.gz &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>特殊文件解压缩：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip access.log-20220106.gz</span><br></pre></td></tr></table></figure>



<p>7z安装使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 安装</span></span><br><span class="line">yum install p7zip</span><br><span class="line"></span><br><span class="line"><span class="comment">## 压缩</span></span><br><span class="line">7za a  名.7z 被压缩的文件或目录</span><br><span class="line"></span><br><span class="line"><span class="comment">## 解压</span></span><br><span class="line">7za x 压缩包.7z -o 解压目录</span><br><span class="line">7za x 压缩包.7z</span><br></pre></td></tr></table></figure>



<h1 id="四、父子shell"><a href="#四、父子shell" class="headerlink" title="四、父子shell"></a>四、父子shell</h1><h2 id="1-父子shell概念"><a href="#1-父子shell概念" class="headerlink" title="1. 父子shell概念"></a>1. 父子shell概念</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line">bash</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/TJ7GVBB7.png" alt="TJ7GVBB7"></p>
<h2 id="2-分号在命令中的作用"><a href="#2-分号在命令中的作用" class="headerlink" title="2. 分号在命令中的作用"></a>2. 分号在命令中的作用</h2><p>依次执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> ; <span class="built_in">pwd</span> ; <span class="built_in">cd</span> /</span><br><span class="line"><span class="comment">#进程列表</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>	<span class="comment"># 有没有创建子shell</span></span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">(<span class="built_in">ls</span> ; <span class="built_in">pwd</span> ; <span class="built_in">cd</span> /)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>前面没有生成子shell，后面创建子shell然后执行</p>
<h2 id="3-sleep和jobs"><a href="#3-sleep和jobs" class="headerlink" title="3. sleep和jobs"></a>3. sleep和jobs</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sleep</span> 10	<span class="comment"># 终端睡眠10s</span></span><br><span class="line"><span class="built_in">sleep</span> 3&amp;	<span class="comment"># 放在后台执行执行</span></span><br><span class="line"></span><br><span class="line">ps -f</span><br><span class="line"><span class="built_in">jobs</span>	<span class="comment"># 显示工作状态</span></span><br><span class="line"><span class="built_in">jobs</span> -l</span><br></pre></td></tr></table></figure>

<h2 id="4-coproc协程"><a href="#4-coproc协程" class="headerlink" title="4. coproc协程"></a>4. coproc协程</h2><p>挂后台命令</p>
<h2 id="5-外部命令，非外部命令（内建命令）"><a href="#5-外部命令，非外部命令（内建命令）" class="headerlink" title="5. 外部命令，非外部命令（内建命令）"></a>5. 外部命令，非外部命令（内建命令）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> ps	<span class="comment"># 外部命令</span></span><br><span class="line">ps is hashed (/usr/bin/ps)</span><br><span class="line"><span class="built_in">type</span> <span class="built_in">cd</span>	<span class="comment">#</span></span><br><span class="line"><span class="built_in">cd</span> is a shell <span class="built_in">builtin</span></span><br></pre></td></tr></table></figure>

<h2 id="6-alias别名"><a href="#6-alias别名" class="headerlink" title="6. alias别名"></a>6. alias别名</h2><p>查看缩写，自己创建一个别名</p>
<p>只能当前用，退出终端不能用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> li=<span class="string">&#x27;ls -li&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="五、环境变量"><a href="#五、环境变量" class="headerlink" title="五、环境变量"></a>五、环境变量</h1><h2 id="1-windows环境变量"><a href="#1-windows环境变量" class="headerlink" title="1. windows环境变量"></a>1. windows环境变量</h2><p>C:\Windows</p>
<p>快速打开软件</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">calc	<span class="comment"># 计算器</span></span><br><span class="line"></span><br><span class="line">notepad	<span class="comment"># 记事本</span></span><br><span class="line"><span class="comment"># C:\Windows\System32</span></span><br><span class="line"></span><br><span class="line">mspaint	<span class="comment"># 画图</span></span><br></pre></td></tr></table></figure>

<h2 id="2-全局变量和局部变量"><a href="#2-全局变量和局部变量" class="headerlink" title="2. 全局变量和局部变量"></a>2. 全局变量和局部变量</h2><h3 id="1-全局变量"><a href="#1-全局变量" class="headerlink" title="1. 全局变量"></a>1. 全局变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printenv</span>		<span class="comment"># 展示所有的环境变量</span></span><br><span class="line"><span class="built_in">printenv</span> USER	<span class="comment"># 输出当前用户名</span></span><br><span class="line"><span class="built_in">printenv</span> HOME	<span class="comment"># 输出家目录</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$HOME</span>		<span class="comment"># 输出当前用户的home目录</span></span><br></pre></td></tr></table></figure>

<h3 id="2-局部变量"><a href="#2-局部变量" class="headerlink" title="2. 局部变量"></a>2. 局部变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>	<span class="comment"># 查看局部变量</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span>	<span class="comment"># 删除设置的变量</span></span><br></pre></td></tr></table></figure>

<h3 id="3-定义用户局部变量"><a href="#3-定义用户局部变量" class="headerlink" title="3. 定义用户局部变量"></a>3. 定义用户局部变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frank=<span class="string">&quot;123&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/C5PG9YC4E1FXQY.png" alt="C5PG9YC4E1FXQY"> </p>
<p>子shell没有作用</p>
<p><strong>自己定义变量一定要小写</strong></p>
<h3 id="4-定义用户全局变量"><a href="#4-定义用户全局变量" class="headerlink" title="4. 定义用户全局变量"></a>4. 定义用户全局变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> frank=<span class="string">&quot;abcdef&quot;</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/K49MAQHU0V5J.png" alt="K49MAQHU0V5J"></p>
<p>终端退出后，失效（参考clash代理设置）</p>
<p>在子shell中删除设置的变量，在父shell中依旧可以使用</p>
<h2 id="3-环境变量"><a href="#3-环境变量" class="headerlink" title="3. 环境变量"></a>3. 环境变量</h2><p>查看环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>定义环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=<span class="variable">$PATH</span>:/home/yang/project/</span><br></pre></td></tr></table></figure>

<p>退出终端后会失效</p>
<p>看系统环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>不同发行版可能bash配置不同</p>
<blockquote>
<p>  ~&#x2F;.bashrc</p>
<p>  ~&#x2F;.bash_profile</p>
<p>  ~&#x2F;.profile</p>
<p>  ~&#x2F;.bash_login</p>
</blockquote>
<h1 id="六、软件包管理"><a href="#六、软件包管理" class="headerlink" title="六、软件包管理"></a>六、软件包管理</h1><h2 id="1-PMS和软件安装"><a href="#1-PMS和软件安装" class="headerlink" title="1. PMS和软件安装"></a>1. PMS和软件安装</h2><p>package management system 包管理系统</p>
<p>软件安装、更新、卸载</p>
<p>工具依赖</p>
<p>dpkg软件包管理系统</p>
<p>dpkg是Debian Package的简写，由Debian发行版开发，用于安装、卸载和供给和deb软件包相关的信息。</p>
<p>使用dpkg的发行版</p>
<p>使用dpkg的发行版主要是Debian以及它的派生版如Ubuntu、Linux Mint等。</p>
<blockquote>
<p>  apt-get</p>
<p>  apt-cache</p>
<p>  aptitude	#没人维护，不要使用</p>
</blockquote>
<p>RPM软件包管理系统</p>
<blockquote>
<p>   RPM，全称为Redhat Package Manager，是由Red Hat推出的软件包管理系统，现在在各种发行版中普遍使用。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Ubuntu命令</span></span><br><span class="line">apt install sl	<span class="comment"># 小火车</span></span><br><span class="line">apt install cmatrix	<span class="comment"># 装逼命令,代码雨</span></span><br><span class="line"></span><br><span class="line">apt update	<span class="comment"># 检查更新</span></span><br><span class="line">apt upgrade	<span class="comment"># 更新</span></span><br><span class="line"></span><br><span class="line">apt remove xxx	<span class="comment"># 卸载</span></span><br></pre></td></tr></table></figure>



<p>uname</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span>	<span class="comment"># 什么系统</span></span><br><span class="line"><span class="built_in">uname</span> -m	<span class="comment"># 系统平台架构</span></span><br><span class="line"><span class="built_in">uname</span> -a	<span class="comment"># 当前系统详细信息</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829154943577.png" alt="image-20220829154943577"></p>
<p>获取系统版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/redhat-release</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220829155015797.png" alt="image-20220829155015797"></p>
<h2 id="2-yum仓库"><a href="#2-yum仓库" class="headerlink" title="2. yum仓库"></a>2. yum仓库</h2><p>换源：<a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/">阿里镜像站</a></p>
<p>CentOS 7.9 2009</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo</span><br></pre></td></tr></table></figure>

<p>源文件保存地址：<code>/etc/yum.repos.d/ </code>下以 <strong>.repo</strong> 结尾的文件</p>
<p>基础仓库：Base</p>
<p>扩展仓库：epel</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">yum clean all	<span class="comment"># 清除缓存</span></span><br><span class="line"><span class="built_in">rm</span> -rf /var/cache/yum/	<span class="comment"># 删除yum缓存</span></span><br><span class="line">yum makecache	<span class="comment"># 新建缓存</span></span><br><span class="line"></span><br><span class="line">yum repolist	<span class="comment"># 查询可用仓库列表</span></span><br><span class="line"></span><br><span class="line">	install		<span class="comment"># 安装</span></span><br><span class="line">	reinstall	<span class="comment"># 重新安装</span></span><br><span class="line">	remove		<span class="comment"># 卸载</span></span><br><span class="line">	provides	<span class="comment"># 查询命令对应的软件包</span></span><br><span class="line"></span><br><span class="line">	update	<span class="comment"># 更新</span></span><br><span class="line">	upgrade</span><br><span class="line"></span><br><span class="line">	info	<span class="comment"># 显示包信息</span></span><br><span class="line">	</span><br><span class="line">yum search xx软件包名	<span class="comment">#搜索软件包</span></span><br></pre></td></tr></table></figure>

<h2 id="3-组包"><a href="#3-组包" class="headerlink" title="3.组包"></a>3.组包</h2><p>列出组包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum grouplist</span><br><span class="line">yum group list</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220830091329534.png" alt="image-20220830091329534"></p>
<p>安装卸载查看组包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y groupinstall <span class="string">&quot;Virtualization Host&quot;</span>	<span class="comment"># 安装组包</span></span><br><span class="line"></span><br><span class="line">groupremove	<span class="comment"># 卸载</span></span><br><span class="line">groupinfo	<span class="comment"># 查看组包信息</span></span><br></pre></td></tr></table></figure>



<h2 id="3-自制yum源："><a href="#3-自制yum源：" class="headerlink" title="3. 自制yum源："></a>3. 自制yum源：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">标签</span><br><span class="line">仓库名</span><br><span class="line">地址</span><br><span class="line">签名</span><br><span class="line">仓库启用</span><br><span class="line">签名key</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/OWZH2.png" alt="OWZH2"></p>
<p>例：</p>
<p>更改yum配置，可以保存缓存</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把keepcache改为1</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/MEGSBX2POU97MC12SA.png" alt="MEGSBX2POU97MC12SA"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## /etc/yum.repos.d/创建my.repo</span></span><br><span class="line"></span><br><span class="line">[my]</span><br><span class="line">name=my repo</span><br><span class="line">baseurl=file:///mnt/myyum</span><br><span class="line">rnabled=1</span><br></pre></td></tr></table></figure>

<p>创建目录<code>/mnt/myyum</code></p>
<p>可以把.rpm软件包放到<code>/mnt/myyum</code>下</p>
<p>使用命令把该目录建成软件包目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">createrepo /mnt/myyum/</span><br><span class="line"></span><br><span class="line">yum clean all	<span class="comment"># 清除缓存</span></span><br><span class="line"></span><br><span class="line">yum makecache	<span class="comment"># 重建缓存</span></span><br></pre></td></tr></table></figure>

<p>验证仓库是否可用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/DT37GXIC.png" alt="DT37GXIC"></p>
<h2 id="4-rpm"><a href="#4-rpm" class="headerlink" title="4. rpm"></a>4. rpm</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh 软件包名称/软件包链接地址</span><br><span class="line">    -i install</span><br><span class="line">    -vh verbose human	</span><br><span class="line"></span><br><span class="line">rpm -ivh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查询软件安装路径</span></span><br><span class="line">rpm -ql 软件名称</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查询已安装的软件包</span></span><br><span class="line">rpm -qa</span><br><span class="line">rpm -qa | grep nginx	<span class="comment"># 判断软件包是否安装</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 查询软件详细信息</span></span><br><span class="line">rpm -qi 软件名称</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查询某一个文件是由哪个软件产生的</span></span><br><span class="line">rpm -qf /etc/passwd</span><br><span class="line">rpm -qf /bin/rpm</span><br><span class="line"></span><br><span class="line"><span class="comment">## 软件卸载</span></span><br><span class="line">rpm -e 软件名称</span><br><span class="line"></span><br><span class="line"><span class="comment">## 软件卸载</span></span><br><span class="line">rpm -qc  软件名称</span><br><span class="line"></span><br><span class="line"><span class="comment">## 了解</span></span><br><span class="line">--force  在安装的时候用(强制安装)</span><br><span class="line">--nodeps 在卸载的时候用(卸载的时候不检查依赖关系)</span><br></pre></td></tr></table></figure>



<h2 id="2-扩展yum-utils"><a href="#2-扩展yum-utils" class="headerlink" title="2.扩展yum-utils"></a>2.扩展yum-utils</h2><p>下载yum-utils</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install yum-utils</span><br><span class="line"></span><br><span class="line">yum-config-manager xxx</span><br></pre></td></tr></table></figure>

<h3 id="1-数据库安装"><a href="#1-数据库安装" class="headerlink" title="1.数据库安装"></a>1.数据库安装</h3><p>方法一：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --<span class="built_in">enable</span> mysql57-community	<span class="comment"># 开启mysql57仓库</span></span><br><span class="line">yum-config-manager --<span class="built_in">disable</span> mysql80-community	<span class="comment"># 关闭mysql80仓库</span></span><br></pre></td></tr></table></figure>

<p>方法二：</p>
<p>修改 <code>/etc/yum.repos.d</code> 下的 <code>.repo</code> 文件</p>
<h3 id="2-docker安装"><a href="#2-docker安装" class="headerlink" title="2.docker安装"></a>2.docker安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo repo文件网址</span><br><span class="line"></span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line">wget https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">或者：</span><br><span class="line"><span class="built_in">cp</span> docker-ce.repo /etc/yum.repos.d/</span><br></pre></td></tr></table></figure>





<h1 id="七、用户和权限"><a href="#七、用户和权限" class="headerlink" title="七、用户和权限"></a>七、用户和权限</h1><h2 id="1-用户user"><a href="#1-用户user" class="headerlink" title="1. 用户user"></a>1. 用户user</h2><h3 id="1-创建用户-useradd"><a href="#1-创建用户-useradd" class="headerlink" title="1. 创建用户 useradd"></a>1. 创建用户 useradd</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">useradd t1		<span class="comment"># 创建一个名为t1的用户</span></span><br><span class="line">useradd -d /user1 user1		<span class="comment"># 创建一个用户名为user1并指定用户的家目录为/user1</span></span><br><span class="line">useradd -u 2000 user2		<span class="comment"># 创建一个用户名为user2并指定用户的uid为2000</span></span><br><span class="line">useradd -g 2000 user4		<span class="comment"># 创建一个用户名为user4并指定用户的gid为2000</span></span><br><span class="line">useradd -c <span class="string">&quot;this is ceshi&quot;</span> user6	<span class="comment"># 创建一个用户名为user6并为该用户设定描述内容为this is ceshi</span></span><br><span class="line">useradd -s /sbin/nologin user7		<span class="comment"># 创建一个用户名为user7并设定该用户不允许登录</span></span><br><span class="line">useradd -M user8			<span class="comment"># 创建一个用户名为user8并不创建家目录</span></span><br><span class="line"></span><br><span class="line">-d 指定家目录（自定义家目录）</span><br><span class="line">-u 指定uid</span><br><span class="line">-g 指定gid</span><br><span class="line">-c 指定描述</span><br><span class="line">-s 指定登录shell</span><br><span class="line">-M 不创建家目录</span><br><span class="line"></span><br><span class="line">useradd -s /sbin/nologin -M user9	<span class="comment">#不能登陆，没有家目录</span></span><br></pre></td></tr></table></figure>

<h3 id="2-查看用户id-id"><a href="#2-查看用户id-id" class="headerlink" title="2. 查看用户id id"></a>2. 查看用户id id</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">id</span> user9</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220818171017132.png" alt="image-20220818171017132"></p>
<h3 id="3-修改用户-usermod"><a href="#3-修改用户-usermod" class="headerlink" title="3. 修改用户 usermod"></a>3. 修改用户 usermod</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">usermod -l frank user2	<span class="comment"># 修改用户user2改名为frank</span></span><br><span class="line">usermod -u 3000 user3	<span class="comment"># 修改用户user3的uid为3000</span></span><br><span class="line">usermod -g 2002 user4	<span class="comment"># 修改用户user4的gid为2002</span></span><br><span class="line">usermod -c <span class="string">&quot;this is hello&quot;</span> user6	<span class="comment"># 修改用户user6的描述为“this is hello”</span></span><br><span class="line">usermod -d /user7 user7	<span class="comment"># 修改用户user7的家目录为/user7</span></span><br><span class="line">usermod -s /sbin/nologin user8		<span class="comment"># 将user8设定为不允许登录</span></span><br></pre></td></tr></table></figure>

<p>修改用户家目录问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd yang	<span class="comment">#创建用户</span></span><br><span class="line"><span class="built_in">mkdir</span> /yang</span><br><span class="line">usermod -d /yang yang</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220819095031719.png" alt="image-20220819095031719"></p>
<p>没有用户变量,所以要把用户变量拷贝过来</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r /home/yang/.bash* /yang/</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220819095201996.png" alt="image-20220819095201996"></p>
<h3 id="4-改用户密码-passwd"><a href="#4-改用户密码-passwd" class="headerlink" title="4.改用户密码 passwd"></a>4.改用户密码 passwd</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">passwd	<span class="comment"># 默认改root账户密码</span></span><br><span class="line">passwd user1	<span class="comment"># 修改用户user1密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 非交互式设置密码</span></span><br><span class="line"><span class="comment"># 给diandiange这个用户设定密码为123</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123&quot;</span>  | passwd --stdin user1</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123456&quot;</span>  | passwd --stdin root</span><br></pre></td></tr></table></figure>

<p>先创建用户密码对应文件，格式为username:password，如abc:abc123，必须以这种格式来书写，并且不能有空行，保存成文本文件user.txt，然后执行chpasswd命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chpasswd &lt; user.txt</span><br></pre></td></tr></table></figure>

<h3 id="5-删除用户-userdel"><a href="#5-删除用户-userdel" class="headerlink" title="5. 删除用户 userdel"></a>5. 删除用户 userdel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel zhangsan	<span class="comment"># 删除不彻底（家目录，邮件文件会保留）</span></span><br><span class="line"></span><br><span class="line">userdel -r zhangsan   <span class="comment"># 彻底删除</span></span><br></pre></td></tr></table></figure>

<h3 id="6-用户切换-su"><a href="#6-用户切换-su" class="headerlink" title="6. 用户切换 su"></a>6. 用户切换 su</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - user1</span><br></pre></td></tr></table></figure>

<h3 id="7-附加组"><a href="#7-附加组" class="headerlink" title="7. 附加组"></a>7. 附加组</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 新组覆盖原有组</span></span><br><span class="line">useradd -G group user</span><br><span class="line"></span><br><span class="line"><span class="comment">## 如果用户存在组，追加一个附加组</span></span><br><span class="line">useradd -aG group user</span><br></pre></td></tr></table></figure>



<h3 id="8-注意"><a href="#8-注意" class="headerlink" title="8. 注意"></a>8. 注意</h3><p>uid如果我们不指定，默认根据上一个用户uid的值+1</p>
<p>默认情况下，创建的普通用户是可以登录的（&#x2F;bin&#x2F;bash）</p>
<p>不允许登录（&#x2F;sbin&#x2F;nologin）</p>
<p>在系统中有很多可以登录的shell，除了&#x2F;bin&#x2F;bash以外，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/shells</span><br><span class="line"></span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin	<span class="comment">#（不可以登录）</span></span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br><span class="line">/usr/sbin/nologin	<span class="comment">#（不可以登录）</span></span><br></pre></td></tr></table></figure>

<p>Ubuntu20.04 系统用户 UID &lt; 500</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yang:x:1002:1002::/home/yang:/bin/bash</span><br><span class="line"></span><br><span class="line">用户名:密码:UID:GID（组ID）:描述:用户家目录:用户默认登录的shell</span><br></pre></td></tr></table></figure>

<p>更改&#x2F;etc&#x2F;passwd，存放用户密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/shadow	<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h2 id="2-组groups"><a href="#2-组groups" class="headerlink" title="2. 组groups"></a>2. 组groups</h2><p>小组目的：共享资源的权限</p>
<p>不同发行版略有差异</p>
<p>查看组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/group	<span class="comment"># 查看组</span></span><br><span class="line"></span><br><span class="line">root:x:0:</span><br><span class="line">组名:密码占位符:gid:组里的用户</span><br></pre></td></tr></table></figure>

<p>基本增删改使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建组：</span></span><br><span class="line">groupadd hr		<span class="comment"># 创建hr组</span></span><br><span class="line">groupadd -g 4000 cw		<span class="comment"># 创建一个gid为4000的组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除组</span></span><br><span class="line">groupdel hr</span><br><span class="line"></span><br><span class="line"><span class="comment">## 修改组：</span></span><br><span class="line">groupmod -g 6000 cw	<span class="comment"># 修改组的gid</span></span><br><span class="line">groupmod -n abc cw	<span class="comment"># 修改组名为abc，新 --&gt; 旧</span></span><br></pre></td></tr></table></figure>

<p>组内添加删除用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 在组中添加用户：</span></span><br><span class="line">usermod  -aG hr user1	<span class="comment"># 给用户user1添加附加组</span></span><br><span class="line">gpasswd -a user1 hr		<span class="comment"># 给hr这个组添加user1的用户，先写用户</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时添加多个用户</span></span><br><span class="line">gpasswd -M user1,user2 hr</span><br><span class="line"></span><br><span class="line"><span class="comment">## 将user1从hr组中删除</span></span><br><span class="line">gpasswd -d user1 hr	</span><br></pre></td></tr></table></figure>

<p>用户提权：</p>
<p>将用户添加到轮子组，添加到轮子组的用户就具备了管理员的权限，可以执行管理员的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.用户存在，将用户加入到轮子组</span></span><br><span class="line">gpasswd -a qf01 wheel</span><br><span class="line">usermod -aG wheel qf01</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2.用户不存在，创建的时候加入轮子组</span></span><br><span class="line">useradd user -G wheel</span><br><span class="line"></span><br><span class="line"><span class="comment">## 3.改文件</span></span><br><span class="line">visudo</span><br><span class="line"></span><br><span class="line"><span class="comment">## Allow root to run any commands anywhere</span></span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">user1 ALL=(ALL)     ALL			<span class="comment">## 添加这行</span></span><br></pre></td></tr></table></figure>



<h2 id="3-服务器忘记密码"><a href="#3-服务器忘记密码" class="headerlink" title="3. 服务器忘记密码"></a>3. 服务器忘记密码</h2><p>1.服务器关机重启</p>
<p>2.按e进救援模式</p>
<p>3.找到UTF-8，后面输入：rd.break console&#x3D;tty0</p>
<p>在救援模式下</p>
<p>4.Ctrl + X</p>
<p>5.需要将&#x2F;sysroot重新挂载为可读可写：mount -o rw,remount &#x2F;sysroot</p>
<p>6.切换到临时根目录下：chroot &#x2F;sysroot</p>
<p>修改密码：passwd</p>
<p>7.关闭selinux目的是修改的密码生效</p>
<p>vi &#x2F;etc&#x2F;selinux&#x2F;config，编辑上面的文件 然后将selinux&#x3D;的内容改为disabled</p>
<p>8.因为对文件的修改，为了确保开机时重新设定 SELinux ，必须在根目录下添加隐藏文件 .autorelabel<br>    touch &#x2F;.autorelabel<br>    exit<br>    reboot</p>
<h2 id="4-文件权限"><a href="#4-文件权限" class="headerlink" title="4. 文件权限"></a>4. 文件权限</h2><p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GJP_VN2RO.png" alt="GJP_VN2RO"></p>
<p>rwxr-xr-x</p>
<p>rwx 组创始人权限（文件所有者权限）</p>
<p>r-x 组下属成员权限（文件所属组权限）</p>
<p>r-x 其他组成员权限（其他用户权限）</p>
<blockquote>
<p>  r   代表可以对文件进行读操作，查看目录内容<br>  w 代表可以对文件进行写操作,目录创建删除<br>  x  代表可以执行该文件，可以进入目录</p>
</blockquote>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/XZKPZG8B.png" alt="XZKPZG8B"></p>
<p>菜鸟教程地址：</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-chmod.html">https://www.runoob.com/linux/linux-comm-chmod.html</a></p>
<p>修改文件所有者和组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> user1 demo.c	<span class="comment"># 只修改所有者</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chown</span> user1. demo.c	<span class="comment"># 修改所有者和所属组都为user1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chown</span> .group1 demo.c	<span class="comment"># 修改文件所属组</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chown</span> user1.group1 demo.c	<span class="comment"># 修改所有者为user1，所属组为group1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 修改目录</span></span><br><span class="line"><span class="built_in">chown</span> user1.group1 project -R	<span class="comment"># 对project目录及目录下所有文件修改</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 区别</span></span><br><span class="line"><span class="built_in">chown</span> user1.group1 project/*	<span class="comment"># 仅对project目录下所有文件修改，不修改目录本身</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## project下有目录也有文件</span></span><br><span class="line"><span class="built_in">chown</span> user1.group1 project/* -R</span><br></pre></td></tr></table></figure>

<p>设置文件的权限</p>
<p>r: 读	4</p>
<p>w: 写	2</p>
<p>x: 执行	1</p>
<table>
<thead>
<tr>
<th align="left">#</th>
<th align="left">权限</th>
<th align="left">rwx</th>
<th align="left">二进制</th>
</tr>
</thead>
<tbody><tr>
<td align="left">7</td>
<td align="left">读+写+执行</td>
<td align="left">rwx</td>
<td align="left">111</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">读+写</td>
<td align="left">rw-</td>
<td align="left">110</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">读+执行</td>
<td align="left">r-x</td>
<td align="left">101</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">只读</td>
<td align="left">r–</td>
<td align="left">100</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">写+执行</td>
<td align="left">-wx</td>
<td align="left">011</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">只写</td>
<td align="left">-w-</td>
<td align="left">010</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">只执行</td>
<td align="left">–x</td>
<td align="left">001</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">无</td>
<td align="left">—</td>
<td align="left">000</td>
</tr>
</tbody></table>
<p>修改权限(+，&#x3D;，-)：</p>
<p>参数：u&#x2F;g&#x2F;o     rwx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## + 在原有的基础上增加</span></span><br><span class="line"><span class="built_in">chmod</span> o+wx 1.c</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/H25GEMB8C.png" alt="H25GEMB8C"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 直接赋值权限</span></span><br><span class="line"><span class="built_in">chmod</span> g=wx 1.c</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8WRA.png" alt="8WRA"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 给2.c所有人减少读权限</span></span><br><span class="line"><span class="built_in">chmod</span> a-r 2.c</span><br><span class="line"></span><br><span class="line"><span class="comment">## 给2.c所有人加可执行权限</span></span><br><span class="line"><span class="built_in">chmod</span> a+x 2.c</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/XBZO27W.png" alt="XBZO27W"></p>
<p>将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> ug+w,o-w file1.txt file2.txt</span><br></pre></td></tr></table></figure>

<p>使用数字方式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chomd 777 file 	<span class="comment"># 所有人所有权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 同chown</span></span><br><span class="line"><span class="built_in">chmod</span> 777 project/*		<span class="comment"># 不包含目录</span></span><br><span class="line"><span class="built_in">chmod</span> 777 project/* -R	<span class="comment"># 包含目录</span></span><br></pre></td></tr></table></figure>

<p>文件的默认权限：644</p>
<p>目录的默认权限：755</p>
<h2 id="5-高级权限"><a href="#5-高级权限" class="headerlink" title="5. 高级权限"></a>5. 高级权限</h2><p>添加高级权限命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u+s file	<span class="comment"># 给文件增加suid权限</span></span><br><span class="line"><span class="built_in">chmod</span> g+s <span class="built_in">dir</span>/	<span class="comment"># 使文件拥有组继承权限</span></span><br><span class="line"><span class="built_in">chmod</span> o+t <span class="built_in">dir</span>/	<span class="comment"># 文件所有者才能删除文件（root可以）</span></span><br></pre></td></tr></table></figure>

<p>删除高级权限：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u-s file</span><br><span class="line"><span class="built_in">chmod</span> g+s <span class="built_in">dir</span>/</span><br><span class="line"><span class="built_in">chmod</span> o+t <span class="built_in">dir</span>/</span><br></pre></td></tr></table></figure>



<h3 id="1-suid"><a href="#1-suid" class="headerlink" title="1.suid"></a>1.suid</h3><p>普通用户可以通过suid权限进行提权(二进制文件&#x2F;命令文件)</p>
<p>suid 普通用户通过suid提权 &lt;针对文件&gt;</p>
<p>suid只能给命令添加，当给命令添加了suid之后，后面再有人去执行这个命令的时候就会拥有命令操作符所有者的权限</p>
<p>E.G.</p>
<p>普通用户没有权限查看&#x2F;etc&#x2F;shadow文件</p>
<p>所以把cat命令提权，普通用户也会享有提权后的cat命令权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## a:字母的方式</span></span><br><span class="line"><span class="built_in">chmod</span> u+s /bin/cat</span><br><span class="line"></span><br><span class="line"><span class="comment">## b:数字的方式</span></span><br><span class="line"><span class="built_in">chmod</span> 4777 /bin/cat</span><br></pre></td></tr></table></figure>

<p>之后普通用户可以使用提权后的cat查看&#x2F;etc&#x2F;shadow文件</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220822093230402.png" alt="image-20220822093230402"></p>
<p><strong>注意：</strong></p>
<p>suid只能给命令添加，当给命令添加了suid之后，后面再有人去执行这个命令的时候就会拥有命令操作符所有者的权限</p>
<h3 id="2-sgid"><a href="#2-sgid" class="headerlink" title="2.sgid"></a>2.sgid</h3><p>组继承权限</p>
<p>sgid 新建文件继承目录属组 &lt;针对目录&gt;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> g+s /home/hr</span><br><span class="line"><span class="built_in">chmod</span> 2777 /home/hr</span><br></pre></td></tr></table></figure>

<p>修改目录组继承权限之后，创建的文件才会继承目录属组</p>
<h3 id="3-sticky"><a href="#3-sticky" class="headerlink" title="3.sticky"></a>3.sticky</h3><p>防止他人误删除(不限制root用户)</p>
<p>sticky：用户只能删除自己的文件 &lt;针对目录&gt;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> o+t /home/dir1</span><br><span class="line"><span class="built_in">chmod</span> 1777 /home/dir1</span><br></pre></td></tr></table></figure>

<p>谁可以删除：<br>root<br>文件的所有者<br>目录的所有者</p>
<h2 id="6-隐藏权限"><a href="#6-隐藏权限" class="headerlink" title="6. 隐藏权限"></a>6. 隐藏权限</h2><p><strong>用来限制root用户</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 添加隐藏权限</span></span><br><span class="line">chattr +a 文件	<span class="comment"># 允许往文件里追加内容</span></span><br><span class="line"></span><br><span class="line">chattr +i 文件	<span class="comment"># 只能看，其他的都不能</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看隐藏权限</span></span><br><span class="line">lsattr file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除隐藏权限</span></span><br><span class="line">chattr -a file</span><br><span class="line">chattr -i file</span><br></pre></td></tr></table></figure>

<h2 id="7-umask权限掩码"><a href="#7-umask权限掩码" class="headerlink" title="7. umask权限掩码"></a>7. umask权限掩码</h2><p>默认的umask 022</p>
<p>创建一个文件默认权限是644  </p>
<p>创建一个目录默认权限是755</p>
<p>文件：666</p>
<p>目录：777</p>
<p>例：</p>
<p>umask 234</p>
<p>文件：666</p>
<p>根据umask为234，计算创建文件的权限是多少</p>
<p>666 rw- rw- rw- 110 110 110             110 110 110</p>
<p>234 -w- -wx r– 010 011 100 （取反）	 101 100 011</p>
<p>​										100 100 010  r– r– -w-   442</p>
<h1 id="八、vim"><a href="#八、vim" class="headerlink" title="八、vim"></a>八、vim</h1><h2 id="1-vim使用"><a href="#1-vim使用" class="headerlink" title="1. vim使用"></a>1. vim使用</h2><blockquote>
<p>  三种工作模式：<br>  命令模式<br>  插入模式&#x2F;编辑模式<br>  尾行模式&#x2F;扩展命令模式<br>  注意：<br>  在任意一个模式下，只要对文件进行编辑和修改，不允许使用鼠标进行移动<br>  命令模式：<br>  使用上下左右键移动光标<br>  想在那个位置进行修改，就把光标移动到那个位置</p>
<p>  把光标移动到行首：快捷键HOME 0<br>  把光标移动到行尾：快捷键END $<br>  把光标从任意一个位置移动到最后一行：G<br>  把光标从任意一个位置移动到第一行：gg<br>  把光标直接移动到第3行：3gg</p>
<p>  文件编辑快捷键（只局限于在一个文件内部使用）<br>  复制光标所在行：yy<br>  复制光标所在行及以下三行：4yy<br>  粘贴：p<br>  删除某一行：dd 删除光标所在行<br>  删除多行：2dd<br>  文件中所有内容删除：dG  删除光标所在行到最后一行<br>  因为光标在第一行，所有dG可以删除文件所有内容<br>  撤销：误删除了 u<br>  删除单个字符：x<br>  删除光标所在位置到行尾的所有内容：D<br>  字符的替换：r 选中要替换的字符，然后使用r,输入替换后的字符</p>
<p>  在我们编辑一个文件的时候，使用那个快捷键能加快工作效率，我们就使用那个</p>
<p>  在命令模式下进入插入模式快捷键：（6个）<br>  i（最常用的）<br>  I：进入插入模式并且光标移动到所在行的行首<br>  A：进入插入模式并且光标移动到行在行的行尾<br>  a：进入插入模式并且光标移动到下一个字符<br>  O：进入插入模式并且光标移动到了上一行<br>  o：进入插入模式并且光标移动到了下一行</p>
<p>  尾行模式：<br>  从命令模式进入到尾行模式<br>  现在在插入模式，进入尾行模式，先进入命令模式<br>  :(冒号 英文状态下的冒号 )命令–&gt;尾行<br>  w保存<br>  q退出<br>  wq 保存并退出（最常用的快捷键）<br>  ！强制<br>  当正常无法保存退出时：<br>  wq!  强制保存并退出<br>  只能执行强制退出<br>  q!</p>
</blockquote>
<p>emacs	神之编辑器</p>
<p>vim	编辑器之神</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install vim -y		<span class="comment"># Ubuntu</span></span><br><span class="line">yum -y install vim			<span class="comment"># CentOS</span></span><br></pre></td></tr></table></figure>



<p>普通模式（命令操作模式）：操作文件</p>
<p>插入模式：编辑（只有插入的时候才是插入模式）</p>
<p>键：<code>H</code> 左	<code>J</code> 下	<code>K</code> 上	<code>L</code> 右</p>
<p>翻页：<code>Ctrl</code> + <code>F</code>：向下一页	<code>Ctrl</code> + <code>B</code>：向上一页</p>
<p>滚动翻页：<code>Ctrl</code> + &#96;&#96;E<code>：向下		</code>Ctrl<code>+</code>Y&#96;：向上</p>
<p>dw：移除当前所在光标往后的单词</p>
<p>d：跳跃单词首字母</p>
<p>e：跳跃单词最后</p>
<p>w：跳跃到下一个单词首字母</p>
<p><code>shift </code>+ <code>6</code>	^	跳跃到本行开头</p>
<p><code>shift</code> + <code>4</code>	$	跳跃到本行末尾</p>
<p>在普通模式不能使用 <code>backspace</code> 和 <code>delete</code> 键</p>
<p>{	}	跳跃{ }大括号</p>
<p>dd：删除（剪切，<code>p</code> 可以粘贴）</p>
<p>yw：复制一个单词</p>
<p>y$：从当前开始，复制到行末</p>
<p>p：粘贴</p>
<p>可视化模式：</p>
<p>选择文本 v 进行选择</p>
<p>V 行</p>
<p>全选：V G	d删除，y 复制，</p>
<p>0：补全角落</p>
<p>vaw：快速选择单词</p>
<p>vab：带括号选择单词	( )	小括号</p>
<p>vaB：	{	}	大括号</p>
<p>va&lt;：	&lt;	&gt;	尖括号</p>
<p>代码缩进：</p>
<p>v &lt;、&gt;	左、右缩进（注意shift键）</p>
<p>v 选择，shift + ~ ：字母大小写切换</p>
<p>v + u：全部转化为小写</p>
<p>v + U：大写 </p>
<p>查找：按 &#x2F; 输入要查找内容，&#x2F;123，按 n 跳下一个</p>
<p>替换：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">:s/const/<span class="keyword">let</span>/g		# g一行</span><br><span class="line"></span><br><span class="line">:%s/const/<span class="keyword">let</span>/g		# 全局（不加g只替换每一行第一个）</span><br><span class="line"></span><br><span class="line">:<span class="number">9</span>,<span class="number">15</span>/const/<span class="keyword">let</span>/g	# <span class="number">9</span>-<span class="number">15</span>行</span><br><span class="line"></span><br><span class="line">:%s/const/<span class="keyword">let</span>/gc	# 有提示，按 <span class="keyword">y</span> 确认</span><br><span class="line"></span><br><span class="line">:<span class="number">5</span>,<span class="number">10</span> s/.*/#&amp;/ 		# <span class="number">5</span>-<span class="number">10</span>前加入#字符 （.*整行 &amp;引用查找的内容）</span><br></pre></td></tr></table></figure>



<h2 id="2-vim基本配置"><a href="#2-vim基本配置" class="headerlink" title="2. vim基本配置"></a>2. vim基本配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim .vimrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> syntax=on	<span class="comment"># 设置高亮</span></span><br><span class="line"><span class="built_in">set</span> tabstop=4</span><br><span class="line"><span class="built_in">set</span> softtabstop=4</span><br><span class="line"><span class="built_in">set</span> number	<span class="comment"># 行号</span></span><br><span class="line"><span class="built_in">set</span> enc=utf-8</span><br><span class="line"><span class="built_in">set</span> showmatch	<span class="comment"># 括号</span></span><br></pre></td></tr></table></figure>

<p>点击进入：<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2018/09/vimrc.html">阮一峰Vim 配置入门</a></p>
<h1 id="九、管道和重定向"><a href="#九、管道和重定向" class="headerlink" title="九、管道和重定向"></a>九、管道和重定向</h1><h2 id="1-重定向"><a href="#1-重定向" class="headerlink" title="1. 重定向"></a>1. 重定向</h2><p>文件描述符 0 与 进程的标准输入（standard input）<br>文件描述符 1 与 标准输出（standard output）<br>文件描述符 2 与 标准错误输出（standard error）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /proc/$$/fd</span><br><span class="line"></span><br><span class="line"><span class="comment">#   $$ 当前终端的pid</span></span><br></pre></td></tr></table></figure>

<p>输出重定向 (覆盖，追加)<br>正确输出： 1&gt; 1&gt;&gt; 等价于 &gt; &gt;&gt;<br>错误输出： 2&gt; 2&gt;&gt;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> 1&gt; date.txt	<span class="comment"># 输出重定向（覆盖）日期时间</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">date</span> &gt;&gt; date.txt	<span class="comment"># 输出重定向（追加）</span></span><br><span class="line"><span class="built_in">ls</span> /home/ /aaaaaaaaa &gt;list.txt</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8C76SQ7W83R0A.png" alt="8C76SQ7W83R0A"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 错误输出重定向</span></span><br><span class="line"><span class="built_in">ls</span> /home/ /aaaaaaaaa &gt;list.txt 2&gt;error.txt</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GBM3.png" alt="GBM3"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 正确和错误都输入到相同位置</span></span><br><span class="line"><span class="built_in">ls</span> /home/ /aaaaaaaaa &amp;&gt;list.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> /home/ /aaaaaaaaa &gt;list.txt 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/WFVM8XP.png" alt="WFVM8XP"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /home/ /aaaaaaaaa &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回值扔到回收站</span></span><br></pre></td></tr></table></figure>



<h2 id="2-管道"><a href="#2-管道" class="headerlink" title="2. 管道"></a>2. 管道</h2><p>对字段进行排序：</p>
<p>b.txt中有123456789</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 对字段进行排序</span></span><br><span class="line"><span class="built_in">sort</span> -rn b.txt</span><br><span class="line"></span><br><span class="line">-n 按数值，默认按字符排序</span><br><span class="line">-r 逆序</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/GMG1UU40.png" alt="GMG1UU40"></p>
<p>uniq去重：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uniq</span> -c b.txt</span><br></pre></td></tr></table></figure>

<p>awk打印指定的字段：</p>
<p>过滤xx列</p>
<p>统计当前&#x2F;etc&#x2F;passwd中用户使用的shell类型</p>
<p>思路：取出第七列（shell） | 排序（把相同归类）| 去重</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">awk -F: <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> /etc/passwd</span><br><span class="line">awk -F: <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> /etc/passwd |<span class="built_in">sort</span></span><br><span class="line">awk -F: <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> /etc/passwd |<span class="built_in">sort</span> |<span class="built_in">uniq</span></span><br><span class="line">awk -F: <span class="string">&#x27;&#123;print $NF&#125;&#x27;</span> /etc/passwd |<span class="built_in">sort</span> |<span class="built_in">uniq</span> -c</span><br><span class="line"></span><br><span class="line">-F: 指定字段分隔符,默认以空格或者是tab分隔</span><br><span class="line"><span class="variable">$7</span> 第七个字段</span><br><span class="line"><span class="variable">$NF</span>表示最后一个字段</span><br><span class="line">$(NF-1)表示倒数第二个字段</span><br><span class="line">NR(NR==2 第二行)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 以/为分隔符，打印第一列</span></span><br><span class="line">awk -F <span class="string">&quot;/&quot;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wc</span> -l			<span class="comment"># 统计多少行</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /etc/passwd | <span class="built_in">wc</span> -l	<span class="comment"># 统计系统多少用户，passwd多少行</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/Q6V7QQDNBEFS1AP97.png" alt="Q6V7QQDNBEFS1AP97"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> access_log | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">sort</span> |<span class="built_in">uniq</span> |<span class="built_in">wc</span> -l</span><br><span class="line">看日志			 |		过滤第一列	 |	排序 |去重  |	多少列</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> access_log | <span class="built_in">wc</span> -l	<span class="comment"># 统计网站一共被访问多少次</span></span><br><span class="line"><span class="built_in">cat</span> access_log | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> |<span class="built_in">sort</span> | <span class="built_in">uniq</span> | <span class="built_in">wc</span> -l	<span class="comment"># 统计有多少人访问</span></span><br><span class="line"><span class="built_in">cat</span> access_log | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c		<span class="comment"># 统计每个人访问次数</span></span><br><span class="line"><span class="built_in">cat</span> access_log | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -rn | <span class="built_in">head</span>	<span class="comment"># 统计访问量前十</span></span><br></pre></td></tr></table></figure>

<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/8N99GXK1KB.png" alt="8N99GXK1KB"></p>
<h2 id="3-tee三通定向"><a href="#3-tee三通定向" class="headerlink" title="3. tee三通定向"></a>3. tee三通定向</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;helloword&quot;</span> | <span class="built_in">tee</span> file</span><br><span class="line"></span><br><span class="line">跟&gt; &gt;&gt; 类似，但不能通用</span><br><span class="line"></span><br><span class="line">|<span class="built_in">tee</span> file 覆盖</span><br><span class="line">|<span class="built_in">tee</span> -a file 追加</span><br></pre></td></tr></table></figure>



<h1 id="十、服务管理"><a href="#十、服务管理" class="headerlink" title="十、服务管理"></a>十、服务管理</h1><h2 id="1-systemctl服务"><a href="#1-systemctl服务" class="headerlink" title="1. systemctl服务"></a>1. systemctl服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">systemctl start  vsftpd　　	<span class="comment"># 启动服务</span></span><br><span class="line">systemctl status  vsftpd　　	<span class="comment"># 查看服务状态</span></span><br><span class="line">systemctl status  vsftpd -l　	<span class="comment"># 查看服务详细状态</span></span><br><span class="line">systemctl stop vsftpd　		<span class="comment"># 停止服务</span></span><br><span class="line">systemctl restart vsftpd　　	<span class="comment"># 重启服务</span></span><br><span class="line">systemctl reload  vsftpd　　	<span class="comment"># 重新加载配置文件</span></span><br><span class="line">systemctl <span class="built_in">enable</span> vsftpd　　　	<span class="comment"># 做开机启动</span></span><br><span class="line">systemctl <span class="built_in">disable</span> vsftpd　　　	<span class="comment"># 关闭开机启动</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以判断服务是否处于运行状态</span></span><br><span class="line">systemctl is-active vsftpd</span><br><span class="line">systemctl is-failed vsftpd</span><br><span class="line"></span><br><span class="line">systemctl is-enabled firewalld　　<span class="comment"># 可以判断服务是否具有开机启动</span></span><br></pre></td></tr></table></figure>

<h2 id="2-时间服务器"><a href="#2-时间服务器" class="headerlink" title="2. 时间服务器"></a>2. 时间服务器</h2><p>1.配置时间服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## １．修改主机名</span></span><br><span class="line">hostnamectl set-hostname ntp-server</span><br><span class="line"></span><br><span class="line"><span class="comment">## ２．关闭防火墙和selinux</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">setenforce 0</span><br></pre></td></tr></table></figure>

<p>配置;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep ntp</span><br><span class="line">ntp-4.2.4p8-3.el6.x86_64</span><br><span class="line"></span><br><span class="line">yum -y install ntp</span><br><span class="line"></span><br><span class="line"><span class="comment">## NTP Server配置示例：</span></span><br><span class="line">vim /etc/ntp.conf 		<span class="comment"># 配置文件全部删掉，只要下面三行</span></span><br><span class="line"></span><br><span class="line">restrict default nomodify 	<span class="comment"># 不允许客户端登录，也不允许客户端修改</span></span><br><span class="line">server 127.127.1.0 		<span class="comment"># 使用本地的bios时间，自己跟自己同步</span></span><br><span class="line">fudge 127.127.1.0 stratum 10 	<span class="comment"># 定义级别，范围0-16，越小越精准</span></span><br><span class="line"></span><br><span class="line">systemctl restart ntpd</span><br><span class="line">systemctl <span class="built_in">enable</span> ntpd</span><br></pre></td></tr></table></figure>

<p>ntp客户端：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install ntpdate</span><br><span class="line"></span><br><span class="line">ntpdate -b 172.16.110.1(ip地址)</span><br></pre></td></tr></table></figure>



<h2 id="3-Apache编译安装"><a href="#3-Apache编译安装" class="headerlink" title="3. Apache编译安装"></a>3. Apache编译安装</h2><p><a target="_blank" rel="noopener" href="https://httpd.apache.org/download.cgi">Apache下载</a></p>
<p>下载apache压缩包并解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget</span><br><span class="line"></span><br><span class="line">wget https://dlcdn.apache.org/httpd/httpd-2.4.54.tar.gz --no-check-certificate</span><br><span class="line"></span><br><span class="line">tar xf httpd-NN.tar.gz</span><br></pre></td></tr></table></figure>

<p>下载apr和apr-util并解压到&#x2F;httpd-NN&#x2F;srclib&#x2F;，并分别改名为apr和apr-util</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://dlcdn.apache.org//apr/apr-1.7.0.tar.gz --no-check-certificate</span><br><span class="line">wget https://dlcdn.apache.org//apr/apr-util-1.6.1.tar.gz --no-check-certificate</span><br><span class="line"></span><br><span class="line">tar xf apr-1.7.0.tar.gz -C /httpd-NN/srclib/apr</span><br><span class="line">tar xf apr/apr-util-1.6.1.tar.gz -C /httpd-NN/srclib/apr-util</span><br></pre></td></tr></table></figure>

<p>在httpd-NN目录下执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /usr/local/apache</span><br><span class="line">./configure --prefix=/usr/local/apache</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<p><strong>注：编译安装必备依赖环境</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install apr apr-util ncurses ncurses-devel openssl-devel bison gcc gcc-c++ make expat-devel  pcre-devel expat-devel libtool</span><br></pre></td></tr></table></figure>



<h2 id="4-日志"><a href="#4-日志" class="headerlink" title="4.日志"></a>4.日志</h2><h3 id="1-常见的日志文件-系统、进程、应用程序"><a href="#1-常见的日志文件-系统、进程、应用程序" class="headerlink" title="1. 常见的日志文件(系统、进程、应用程序)"></a>1. 常见的日志文件(系统、进程、应用程序)</h3><p>日志分类：系统日志、进程日志、应用程序日志</p>
<p>日志作用：排错、追溯事件、统计流量、审计安全行为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /var/log/</span><br><span class="line"><span class="built_in">tail</span> /var/log/messages		<span class="comment"># 系统主日志文件</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/messages	<span class="comment"># 动态查看日志文件的尾部</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/secure		<span class="comment"># 认证、安全</span></span><br><span class="line"><span class="built_in">tail</span> /var/log/cron			<span class="comment"># crond、at进程产生的日志</span></span><br><span class="line"><span class="built_in">tail</span> /var/log/yum.log		<span class="comment"># yum</span></span><br></pre></td></tr></table></figure>

<p>二进制日志</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">w		<span class="comment"># 当前登录的用户即: /var/log/wtmp日志</span></span><br><span class="line">last	<span class="comment"># 最近登录的用户 /var/log/btmp</span></span><br><span class="line">lastlog	<span class="comment"># 所有用户的登录情况 /var/log/lastlog</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220902163635741.png" alt="image-20220902163635741"></p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220902163542942.png" alt="image-20220902163542942"></p>
<p>日志存放位置:  存放本地 <code>/var/log</code><br>日志服务启动: <code>systemctl start rsyslog</code><br>日志配置文件: <code>/etc/rsyslog.conf</code>(主配置文件) <code>/etc/rsyslog.d/</code>(子配置文件)</p>
<h3 id="2-集中式日志管理"><a href="#2-集中式日志管理" class="headerlink" title="2.集中式日志管理"></a>2.集中式日志管理</h3><p>规则：日志对象.日志级别  日志文件</p>
<p>日志对象：</p>
<p>固定：auth, authpriv, cron, daemon, kern, lpr, mail, mark, news, security (same as auth), syslog,  user, uucp </p>
<p>自定义：local0 through local7</p>
<p>日志级别：</p>
<p>debug,  info, notice, warning, warn (same as warning), err, error (same as err), crit, alert, emerg, panic (same as emerg)</p>
<p>* ：代表所有级别</p>
<p>级别依次增加，&#x3D;&#x3D;级别越低，记录的信息越详细&#x3D;&#x3D;</p>
<p>日志文件中，记录的信息内容由日志级别决定，记录谁的日志由日志对象决定</p>
<p>debug：最低的，一般不用<br>info：安装信息，警告信息，错误信息<br>notice：相当与提示<br>warn&#x2F;warning：警告，错误<br>error&#x2F;err：错误，严重错误<br>alert：告警，表示已经出现问题<br>emerg：恐慌级别</p>
<p>例：</p>
<p>将内核日志文件定义到<code>/var/log/kern.log</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /var/log/kern.log</span><br><span class="line"></span><br><span class="line">vim /etc/rsyslog.conf</span><br><span class="line"></span><br><span class="line">	kern.*  /var/log/kern.log</span><br></pre></td></tr></table></figure>



<h3 id="2-自定义日志"><a href="#2-自定义日志" class="headerlink" title="2. 自定义日志"></a>2. 自定义日志</h3><p>修改日志配置文件<br>​	指定日志存放文件和位置<br>​	指定对应的日志级别（确定记录信息内容）<br>​	指定日志对象（这个对象要做到能够记录ssh这个服务）</p>
<p>自定义sshd日志：</p>
<p>修改ssh服务配置文件<br>​	让ssh这个服务去绑定已有的日志对象（local0 - local7）<br>​	ssh –&gt; local2</p>
<p>1.修改sshd服务主配置文件：<br>将<code>/etc/ssh/sshd_config</code> 的#SyslogFacility AUTHPRIV改为 SyslogFacility local2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">SyslogFacility local2  <span class="comment"># 设置ssh的日志定义由local2设备来记录</span></span><br></pre></td></tr></table></figure>

<p>2.在rsyslog的主配置文件里加上：<code>local2.* 	/var/log/ssh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/rsyslog.conf</span><br><span class="line"></span><br><span class="line">local2.* 	/var/log/ssh</span><br></pre></td></tr></table></figure>

<p>3.重启服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd		<span class="comment"># 重启sshd服务</span></span><br><span class="line"></span><br><span class="line">systemctl restart rsyslog	<span class="comment"># 重启日志服务</span></span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220905103839080.png" alt="image-20220905103839080"></p>
<p>4.远程日志服务器</p>
<p>发送端：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/rsyslog.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">## 加上  接收端IP地址</span></span><br><span class="line">*.*   @192.168.1.19	<span class="comment"># 注意@:使用udp  @@:使用tcp</span></span><br></pre></td></tr></table></figure>

<p>接收端：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/rsyslog.conf</span><br></pre></td></tr></table></figure>

<p>修改配置文件打开UDP接收功能</p>
<blockquote>
<p>  $ModLoad imudp<br>  $UDPServerRun 514</p>
</blockquote>
<p>两台服务器都重新启动日志</p>
<p>验证：</p>
<p>在发送服务器安装一个软件，产生一条日志<code>yum -y install gcc</code></p>
<p>在接受服务器的messages日志文件查看（<code>tailf /var/log/message</code>）</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220905111208939.png" alt="image-20220905111208939"></p>
<h3 id="3-日志切割"><a href="#3-日志切割" class="headerlink" title="3. 日志切割"></a>3. 日志切割</h3><p><code>/etc/logrotate.conf</code> 主配置文件</p>
<p><code>/etc/logrotate.d/*</code> 子配置文件</p>
<p>主配置文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/logrotate.conf</span><br><span class="line"></span><br><span class="line">weekly 		<span class="comment"># 轮转的周期，一周轮转</span></span><br><span class="line">rotate 4 	<span class="comment"># 保留4份</span></span><br><span class="line">create 		<span class="comment"># 轮转后创建新文件</span></span><br><span class="line">dateext 	<span class="comment"># 使用日期作为后缀</span></span><br><span class="line"><span class="comment">#compress 	# 是否压缩</span></span><br></pre></td></tr></table></figure>

<p>例：</p>
<p>对于wtmp和btmp这样无主的日志，按照下面配置进行轮转</p>
<blockquote>
<p>  &#x2F;var&#x2F;log&#x2F;wtmp { 	#对该日志文件设置轮转的方法<br>     monthly 		#一月轮转一次<br>     minsize 1M 		#最小达到1M才轮转，即到了规定的时间未达到大小不会轮转<br>     create 0664 root utmp 	#轮转后创建新文件，并设置权限属主和属组<br>     rotate 1 		#保留一份<br>  }</p>
<p>  &#x2F;var&#x2F;log&#x2F;btmp {<br>     missingok 	#丢失不提示<br>     monthly 	#每月轮转一次<br>     create 0600 root utmp 	#轮转后创建新文件，并设置权限<br>     rotate 1 	#保留一份<br>  }</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/logrotate.d/yum 	<span class="comment">#原有的设置，没有说保存几份，看上面的全局设置</span></span><br></pre></td></tr></table></figure>

<p>  &#x2F;var&#x2F;log&#x2F;yum.log { 	#yum日志文件<br>     missingok 		#丢失不提示<br>     notifempty 		#如果为空，不轮转<br>     size 30k	 	#达到30k就轮转<br>     yearly 			#达到一年就轮转一次，两者满足一个就轮转<br>     create 0600 root root 	#创建新文件<br>  }</p>
</blockquote>
<h2 id="5-计划任务"><a href="#5-计划任务" class="headerlink" title="5. 计划任务"></a>5. 计划任务</h2><h3 id="1-at-一次性计划任务"><a href="#1-at-一次性计划任务" class="headerlink" title="1. at 一次性计划任务"></a>1. at 一次性计划任务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y at	<span class="comment"># 下载安装</span></span><br><span class="line"></span><br><span class="line">systemctl start atd	<span class="comment"># 启动，开机启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> atd</span><br></pre></td></tr></table></figure>

<p>查看计划任务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">at -l</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /var/spool/at/a0000201a62434</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/LFQUQ0TP.png" alt="LFQUQ0TP"></p>
<p>删除计划任务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">at -r 任务号</span><br><span class="line">at -d 任务号</span><br><span class="line">atrm 任务号</span><br></pre></td></tr></table></figure>

<p>创建任务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">at 11:00 12/31/2022</span><br><span class="line">&gt; <span class="built_in">ls</span> /</span><br><span class="line">&gt; &lt;EOF&gt;		<span class="comment"># Ctrl + D结束</span></span><br></pre></td></tr></table></figure>

<p><code>tea time</code> 下午茶 4pm</p>
<h3 id="2-crontab循环计划任务"><a href="#2-crontab循环计划任务" class="headerlink" title="2. crontab循环计划任务"></a>2. crontab循环计划任务</h3><p><code>* * * * *</code> 分 时 日 月 周(0&#x2F;7周日)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 保存位置，以用户名命名</span></span><br><span class="line"><span class="built_in">ls</span> /var/spool/cron/</span><br><span class="line"></span><br><span class="line">crontab -e		<span class="comment"># 创建命令（vim使用，可以dd删除命令）</span></span><br><span class="line">crontab -l		<span class="comment"># 查看当前用户的计划任务</span></span><br><span class="line">crontab -r 		<span class="comment"># 删除整个用户的计划任务(默认当前用户)</span></span><br><span class="line">crontab -e -u user1	<span class="comment"># -u指定用户</span></span><br></pre></td></tr></table></figure>

<p><code>var/spool/mail/</code> 邮件 循环计划任务没执行一次都会给指定用户发送一次邮件</p>
<p>把yang用户添加cron.deny</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/BCLK_DWKW8.png" alt="BCLK_DWKW8"></p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/NNC22AM5YBI8PZ9X974.png" alt="NNC22AM5YBI8PZ9X974"></p>
<p>切换到yang，发现crontab不能用</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/HAP08ED343G.png" alt="HAP08ED343G"></p>
<p>把yang从cron.deny删除，crontab能用</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/TYD3B0H2RZDFD.png" alt="TYD3B0H2RZDFD"></p>
<h2 id="6-FTP服务"><a href="#6-FTP服务" class="headerlink" title="6. FTP服务"></a>6. FTP服务</h2><p>C&#x2F;S架构</p>
<p>server端（必须 <code>vsftpd</code>）<br>client端（可选，windows&#x2F;linux，server端自己访问自己）</p>
<p>ftp服务器默认对外共享的目录：<code>/var/ftp/</code><br>        配置文件: <code>/etc/vsftpd/vsftpd.conf</code></p>
<p><strong>注意</strong></p>
<p>客户端报错</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220906172918666.png" alt="image-20220906172918666"></p>
<p>查看服务端</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220906173033498.png" alt="image-20220906173033498"></p>
<p>解决办法：修改ftp共享目录权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 755 /var/ftp/ -R</span><br><span class="line">systemctl restart vsftpd</span><br></pre></td></tr></table></figure>



<h3 id="1-基本配置"><a href="#1-基本配置" class="headerlink" title="1. 基本配置"></a>1. 基本配置</h3><p>vsftpd的被动模式是默认开启的，可以关闭，主动模式永远开启，不能关闭<br>主动模式： 21端口负责连接，20端口负责传输数据</p>
<p>vsftp服务器关闭被动模式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line"></span><br><span class="line">pasv_enable=NO</span><br></pre></td></tr></table></figure>

<p>lftp客户端关闭被动模式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum -y install lftp</span><br><span class="line">lftp 10.36.139.62</span><br><span class="line"></span><br><span class="line"><span class="comment">## 临时关闭</span></span><br><span class="line"><span class="built_in">set</span> ftp:passive-mode off</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 永久关闭</span></span><br><span class="line">vim /etc/lftp.conf</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> ftp:passive-mode off</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/BBREIKR7DNF6GG67UVXLKT.png" alt="BBREIKR7DNF6GG67UVXLKT"></p>
<h3 id="2-FTP部署"><a href="#2-FTP部署" class="headerlink" title="2. FTP部署"></a>2. FTP部署</h3><h4 id="1-vsftpd配置匿名用户"><a href="#1-vsftpd配置匿名用户" class="headerlink" title="(1) vsftpd配置匿名用户"></a>(1) vsftpd配置匿名用户</h4><p>1.编辑配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim vsftpd.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  write_enable&#x3D;YES</p>
<p>  anonymous_enable&#x3D;YES<br>  anon_upload_enable&#x3D;YES<br>  anon_mkdir_write_enable&#x3D;YES<br>  anon_other_write_enable&#x3D;YES</p>
</blockquote>
<p>2、常用的匿名FTP配置项</p>
<blockquote>
<p>  anonymous_enable&#x3D;YES 		# 是否允许匿名用户访问<br>  anon_umask&#x3D;022 		# 匿名用户所上传文件的权限掩码<br>  anon_root&#x3D;&#x2F;var&#x2F;ftp 	# 设置匿名用户的FTP根目录<br>  anon_upload_enable&#x3D;YES 		# 是否允许匿名用户上传文件<br>  anon_mkdir_write_enable&#x3D;YES 			# 是否允许匿名用户允许创建目录<br>  anon_other_write_enable&#x3D;YES 			# 是否允许匿名用户有其他写入权（改名，删除，覆盖）<br>  anon_max_rate&#x3D;0 	# 限制最大传输速率（字节&#x2F;秒）0为无限制</p>
</blockquote>
<p>3、开启 vsftp 服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start vsftpd</span><br><span class="line"></span><br><span class="line">netstat -lnpt | grep vsftpd</span><br></pre></td></tr></table></figure>



<h4 id="2-vsftpd配置本地用户"><a href="#2-vsftpd配置本地用户" class="headerlink" title="(2) vsftpd配置本地用户"></a>(2) vsftpd配置本地用户</h4><p>1.创建用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useradd zhangsan</span><br><span class="line">useradd lisi</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123456&quot;</span> | passwd --stdin zhangsan</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123456&quot;</span> | passwd --stdin lisi</span><br></pre></td></tr></table></figure>

<p>2.修改配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  local_enable&#x3D;YES<br>  local_umask&#x3D;077<br>  chroot_local_user&#x3D;YES<br>  allow_writeable_chroot&#x3D;YES<br>  write_enable&#x3D;YES</p>
</blockquote>
<p>默认情况下是我们匿名账户的根目录<br>对于普通用户的根目录来讲，默认情况下ftp本地账户访问的根目录是自己的家目录<br>打开了上传和下载功能</p>
<p>3、常用的本地用户FTP配置项</p>
<blockquote>
<p>  local_enable&#x3D;YES 	# 是否允许本地系统用户访问<br>  local_umask&#x3D;022 	# 本地用户所上传文件的权限掩码<br>  local_root&#x3D;&#x2F;var&#x2F;ftp # 设置本地用户的FTP根目录<br>  chroot_list_enable&#x3D;YES 	# 表示是否开启chroot的环境，默认没有开启<br>  chroot_list_file&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;chroot_list	# 表示写在&#x2F;etc&#x2F;vsftpd&#x2F;chroot_list文件里面的用户是不可以出chroot环境的。默认是可以的。<br>  Chroot_local_user&#x3D;YES 	# 表示所有写在&#x2F;etc&#x2F;vsftpd&#x2F;chroot_list文件里面的用户是可以出chroot环境的，和上面的相反。<br>  local_max_rate&#x3D;0 	# 限制最大传输速率（字节&#x2F;秒）0为无限制</p>
</blockquote>
<p>4、添加用户到白名单</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/user_list</span><br><span class="line"></span><br><span class="line">zhangsan</span><br><span class="line">lisi</span><br></pre></td></tr></table></figure>

<p>5、重启服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart vsftpd</span><br></pre></td></tr></table></figure>

<h3 id="3-FTP远程仓库"><a href="#3-FTP远程仓库" class="headerlink" title="3.FTP远程仓库"></a>3.FTP远程仓库</h3><p>防火墙 selinux</p>
<h4 id="1-仓库端"><a href="#1-仓库端" class="headerlink" title="1.仓库端"></a>1.仓库端</h4><p>1.安装ftp服务，并启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install vsftpd</span><br><span class="line"><span class="built_in">mkdir</span> /opt/registry</span><br></pre></td></tr></table></figure>

<p>编辑配置文件(自定义共享目录)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line"></span><br><span class="line">anon_root=/opt/registrg	<span class="comment">#最后一行追加</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart vsftpd</span><br></pre></td></tr></table></figure>

<p>默认仓库位置：<code>/var/ftp</code> 不需要修改配置文件</p>
<p>2.创建目录，作为仓库目录（存放.rpm包）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /opt/registry/centos</span><br></pre></td></tr></table></figure>

<p>3.将rpm包放到centos目录下</p>
<p>4.做成软件包目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createrepo /opt/registry/centos/</span><br></pre></td></tr></table></figure>

<h4 id="2-客户端"><a href="#2-客户端" class="headerlink" title="2.客户端"></a>2.客户端</h4><p>不需要挂载(NFS 才需要)，不需要lftp(客户端工具 x)</p>
<p>创建仓库文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line">vim registry.repo</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Registry]</span><br><span class="line">name=This is Registry</span><br><span class="line">baseurl=ftp://10.0.0.37/centos</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure>

<p>验证</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure>



<h2 id="7-NFS部署"><a href="#7-NFS部署" class="headerlink" title="7. NFS部署"></a>7. NFS部署</h2><p>1.关闭防火墙和selinux</p>
<p>2.安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install nfs-utils</span><br><span class="line">systemctl start nfs</span><br><span class="line">systemctl <span class="built_in">enable</span> nfs-server</span><br></pre></td></tr></table></figure>

<p>3.修改配置文件</p>
<p>创建共享目录<code>mkdir /opt/nfs-share</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/exports</span><br><span class="line"></span><br><span class="line">/opt/nfs-share *(ro,<span class="built_in">sync</span>)	<span class="comment"># 以只读方式共享</span></span><br><span class="line"><span class="comment"># 对外共享目录 共享给谁 权限属性</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sync</span>：<span class="built_in">sync</span>传输过程中将数据直接写入内存和硬盘</span><br><span class="line">no_root_squash:</span><br><span class="line">root_squash：当登录NFS主机使用共享目录的使用者是root时，其权限将被转换成为匿名使用者，通常它的UID与GID都会变成nobody身份。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2</span></span><br><span class="line">/share/dir2   172.16.60.0/24(rw,<span class="built_in">sync</span>,no_root_squash)</span><br><span class="line"></span><br><span class="line">指定一台主机去掉子网掩码</span><br></pre></td></tr></table></figure>

<p>共享生效</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exportfs -rv 	<span class="comment"># 重新刷新共享,类似重启服务</span></span><br><span class="line"></span><br><span class="line">systemctl restart nfs</span><br></pre></td></tr></table></figure>



<p>4.客户端</p>
<p>安装nfs-utils <code>yum -y install nfs-utils</code></p>
<p>查看存储端共享</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showmount -e 10.36.139.106</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/2U0Z3TG7DHW.png" alt="2U0Z3TG7DHW"></p>
<p>创建挂载目录 <code>mkdir /mnt/nfs</code></p>
<p>永久挂载NFS</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/fstab</span><br><span class="line"></span><br><span class="line">10.36.139.106:/opt/nfs-share    /mnt/nfs    nfs   defaults,_netdev 0 0</span><br><span class="line"></span><br><span class="line">mount -a	<span class="comment"># 挂载</span></span><br></pre></td></tr></table></figure>

<p>查看磁盘挂载结果：</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/D0NK4S3KINOQQX2Z.png" alt="D0NK4S3KINOQQX2Z"></p>
<h2 id="8-DNS域名系统"><a href="#8-DNS域名系统" class="headerlink" title="8. DNS域名系统"></a>8. DNS域名系统</h2><h3 id="1-DNS概念"><a href="#1-DNS概念" class="headerlink" title="1. DNS概念"></a>1. DNS概念</h3><p>“.com”是顶级域名； .like .vip .top .cn .我爱你 .edu .中国<br>“aliyun.com”是主域名（也可称托管一级域名），主要指企业名<br>“example.aliyun.com”是子域名（也可称为托管二级域名）<br>“<a target="_blank" rel="noopener" href="http://www.example.aliyun.com”是子域名的子域(也可称为托管三级域名)/">www.example.aliyun.com”是子域名的子域（也可称为托管三级域名）</a></p>
<h3 id="2-DNS客户端"><a href="#2-DNS客户端" class="headerlink" title="2. DNS客户端"></a>2. DNS客户端</h3><h4 id="1-安装工具"><a href="#1-安装工具" class="headerlink" title="(1) 安装工具"></a>(1) 安装工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y isntall bind-utils</span><br></pre></td></tr></table></figure>

<h4 id="2-host"><a href="#2-host" class="headerlink" title="(2) host"></a>(2) host</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">host www.baidu.com</span><br><span class="line"><span class="comment">## 跟DNS服务器</span></span><br><span class="line">host www.baidu.com 114.114.114.114</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/ALNGTSO2EHYHU.png" alt="ALNGTSO2EHYHU"></p>
<h4 id="3-nslookup"><a href="#3-nslookup" class="headerlink" title="(3) nslookup"></a>(3) nslookup</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nslookup www.baidu.com</span><br><span class="line">nslookup server</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/aiakfkafa.png" alt="aiakfkafa"></p>
<h4 id="4-dig"><a href="#4-dig" class="headerlink" title="(4) dig"></a>(4) dig</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig www.baidu.com</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/OYN4AK3YY4Q5T.png" alt="OYN4AK3YY4Q5T"></p>
<h4 id="5-配置DNS"><a href="#5-配置DNS" class="headerlink" title="(5) 配置DNS"></a>(5) 配置DNS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>  /etc/sysconfig/network-scripts/</span><br><span class="line">vim ifcfg-ens33</span><br><span class="line"></span><br><span class="line"><span class="comment"># 临时修改</span></span><br><span class="line">vim /etc/resolv.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  TYPE&#x3D;”Ethernet”	# 类型<br>  BOOTPROTO&#x3D;”static” 	# 启用静态IP地址,dhcp 动态 static 手动(none)<br>  NAME&#x3D;”ens33”	# 网卡名称<br>  UUID&#x3D;”8071cc7b-d407-4dea-a41e-16f7d2e75ee9”	# 标识<br>  ONBOOT&#x3D;”yes” 		# 是否启用</p>
<p>  IPADDR&#x3D;”192.168.21.128” 	# 设置IP地址<br>  PREFIX&#x3D;”24” 				# 设置子网掩码<br>       <code># NETMASK=255.255.255.0</code>	 #同子网掩码，写一个<br>  GATEWAY&#x3D;”192.168.21.2” 	# 设置网关 .1  .2(vmware) .254<br>  DNS1&#x3D;”8.8.8.8” 			# 设置主DNS<br>  DNS2&#x3D;”114.114.114.114” 		# 设置备DNS</p>
</blockquote>
<h2 id="9-远程管理服务"><a href="#9-远程管理服务" class="headerlink" title="9. 远程管理服务"></a>9. 远程管理服务</h2><h3 id="1-ssh"><a href="#1-ssh" class="headerlink" title="1.ssh"></a>1.ssh</h3><p>安装软件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openssh*  -y</span><br></pre></td></tr></table></figure>

<p>ssh默认端口号：22</p>
<h4 id="1-配置文件"><a href="#1-配置文件" class="headerlink" title="(1) 配置文件"></a>(1) 配置文件</h4><p>server：<code>/etc/ssh/sshd_config</code></p>
<blockquote>
<p>  <code>Port 2222</code>	# 指定ssh服务的端口号<br>  <code>SyslogFacility AUTHPRIV</code>	# 指定日志对象<br>  <code>LogLevel INFO</code>	# 日志级别<br>  <code>PermitRootLogin</code>	# yes&#x2F;no是否允许root账户远程登录<br>  <code>LoginGraceTime 2m</code>	# 如果用户未成功登录，服务器将在此时间后断开连接默认120s,值为0不限制<br>  <code>MaxAuthTries6</code>	# 每个连接允许的最大身份验证尝试次数<br>  <code>MaxSessions 10</code>	# 支持连接会话的个数<br>  <code>AuthorizedKeysFile ~/.ssh/authorized_keys</code>	# 指定存 放用户身份验证的公钥的文件</p>
</blockquote>
<p>如果有需要用到其他参数，参看配置文件的man手册</p>
<p>client: <code>/etc/ssh/ssh_config</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Port 2222	<span class="comment"># 相当于 修改了ssh命令默认的连接端口</span></span><br></pre></td></tr></table></figure>

<p>注意：服务器端修改完配置文件，需要重后服务，才能生效，客户端配置文件修改完成直接生效</p>
<h4 id="2-服务端"><a href="#2-服务端" class="headerlink" title="(2) 服务端"></a>(2) 服务端</h4><p>启动服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start sshd</span><br></pre></td></tr></table></figure>

<p>查看服务状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lsof -i:22</span><br><span class="line"></span><br><span class="line">ss -auntpl | grep ssh</span><br></pre></td></tr></table></figure>

<p>关闭防火墙和selinux</p>
<h4 id="3-客户端"><a href="#3-客户端" class="headerlink" title="(3) 客户端"></a>(3) 客户端</h4><p>远程登录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh  10.36.139.62</span><br><span class="line">ssh  10.36.139.62 -u user1</span><br><span class="line">ssh  root@10.36.139.62 -u user1 -p 123</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;如果账户没有设置密码，不能登陆&#x3D;&#x3D;</p>
<h4 id="4-无密码登录"><a href="#4-无密码登录" class="headerlink" title="(4) 无密码登录"></a>(4) 无密码登录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen		<span class="comment"># 产生公钥和私钥</span></span><br><span class="line">ssh-copy-id  -i 10.36.139.106	<span class="comment"># 拷贝公钥给对方</span></span><br><span class="line">ssh 10.36.139.106	<span class="comment"># 直接登录，不需要输入密码</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<p>指纹不匹配问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> ~/.ssh/known_hosts	<span class="comment"># 删除已建立过连接主机的密钥</span></span><br></pre></td></tr></table></figure>

<h4 id="5-远程拷贝"><a href="#5-远程拷贝" class="headerlink" title="(5) 远程拷贝"></a>(5) 远程拷贝</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">scp 源文件 目标路径</span><br><span class="line">scp -r 源目录 目标路径</span><br><span class="line"></span><br><span class="line">scp /a.txt 10.36.139.106:/		<span class="comment"># 把a.txt给他</span></span><br><span class="line">scp 10.36.139.106:/a.txt ./ 	<span class="comment"># 把他的拿下来</span></span><br><span class="line"></span><br><span class="line">scp 192.168.2.108:/a.txt 192.168.2.109:/ 	<span class="comment"># 把左边的给右边</span></span><br><span class="line"></span><br><span class="line">-P 2222		<span class="comment"># 指定端口2222</span></span><br></pre></td></tr></table></figure>



<h3 id="2-JumpServer"><a href="#2-JumpServer" class="headerlink" title="2.JumpServer"></a>2.JumpServer</h3><p>2核4G 干净的服务器</p>
<p>1.环境准备工作</p>
<p>关闭防火墙 selinux 网络（最好静态）</p>
<p>…</p>
<h2 id="10-操作系统初始化"><a href="#10-操作系统初始化" class="headerlink" title="10. 操作系统初始化"></a>10. 操作系统初始化</h2><p>安全角度：</p>
<p>1.用户和组，删除</p>
<p>2.提升root用户的密码强度</p>
<p>3.ssh服务 修改端口 禁止root账户登录 限制登录失败的次数</p>
<p>4.<code>/etc/profile</code> 多长时间不操作注销账户</p>
<p>5.禁止ping</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all	<span class="comment"># 禁止</span></span><br><span class="line"><span class="built_in">echo</span> 0 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all	<span class="comment"># 解除禁止</span></span><br></pre></td></tr></table></figure>

<p>6.远程5分钟无操作自动注销</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"><span class="comment">## 添加</span></span><br><span class="line"><span class="built_in">export</span> TMOUT=300   <span class="comment"># 5分钟自动注销</span></span><br></pre></td></tr></table></figure>



<p>其他角度：</p>
<p>1.关闭防火墙和selinux （临时关闭和永久关闭）</p>
<p>2.更换yum仓库（Base + epel 国内）清理缓存 加载缓存</p>
<p>3.安装常用的软件：vim wget ntpdate  zsh unzip …</p>
<p>4.检查网络是否畅通</p>
<p>5.服务器进行时间同步</p>
<p>6.关闭不需要的软件</p>
<p>……..</p>
<p>初始化的操作写成脚本，所有的服务器只需要执行这个脚本</p>
<h2 id="11-WEB服务"><a href="#11-WEB服务" class="headerlink" title="11. WEB服务"></a>11. WEB服务</h2><p>主流3个Web服务器：Apache、Nginx、IIS(Windows Server)</p>
<h3 id="1-web中间件"><a href="#1-web中间件" class="headerlink" title="1. web中间件"></a>1. web中间件</h3><p>Java：tomcat weblogic<br>Python：uwsgi wsgi<br>PHP：php php-fpm</p>
<h3 id="2-Apache基本使用"><a href="#2-Apache基本使用" class="headerlink" title="2. Apache基本使用"></a>2. Apache基本使用</h3><h4 id="1-介绍"><a href="#1-介绍" class="headerlink" title="(1) 介绍"></a>(1) 介绍</h4><blockquote>
<p><code>/etc/httpd/conf/</code> 存放apache的主配置文件</p>
<p><code>httpd.conf</code> 主配置文件名称</p>
<p><code>/etc/httpd/conf.d/</code> 存放apache的子配置文件(apache虚拟主机配置文件)</p>
<p><code>*.conf</code>都是子配置文件</p>
<p><code>/etc/httpd/logs</code>存放日志文件的目录 链接到<code>/var/log/httpd</code></p>
<p><code>/etc/httpd/run/httpd.pid</code> Apache的pid文件 链接到<code>/run/httpd/httpd.pid</code></p>
<p><code>/var/www/html</code> 默认的网站发布目录，网站代码存放的目录</p>
<p>自定义网站发布目录</p>
<p><code>index.html</code> 默认的主页名称</p>
</blockquote>
<h4 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="(2) 配置文件"></a>(2) 配置文件</h4><p>文件位置：<code>/etc/httpd/conf/httpd.conf</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/httpd/conf/httpd.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  serverRoot “&#x2F;etc&#x2F;httpd”	# 存放配置文件的目录</p>
<p>  Listen 80		# 指定监听端口</p>
<p>  User apache		# 子进程的用户	安装Apache自动创建<br>  Group apache	# 子进程的组</p>
<p>  ServerAdmin root@localhost		# 设置管理员邮件地址</p>
<p>  DocumentRoot “&#x2F;var&#x2F;www&#x2F;html”	# 指定网站发布目录</p>
<p>  <Directory />		# 标签 指定目录属性（网站发布目录）<br>      AllowOverride none	# 允许所有的请求访问<br>      Require all denied	# 设置是否启用htpasswd文件  基于用户的访问控制文件<br>  </Directory></p>
<p>  ErrorLog “logs&#x2F;error_log”	# 定义apache的错误日志</p>
<p>  LogLevel warn	# 定义日志级别 （debug, info, notice, warn, error, crit，alert, emerg）</p>
<p>  LogFormat “%h %l %u %t &quot;%r&quot; %&gt;s %b &quot;%{Referer}i&quot; &quot;%{User-Agent}i&quot;“ combined	# 定义日志格式 （格式+名字）</p>
<p>  CustomLog “logs&#x2F;access_log” combined	# 定义apache访问日志  （文件+日志格式名字）</p>
<p>  IncludeOptional conf.d&#x2F;*.conf	# 加载子配置文件</p>
</blockquote>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811104456712.png" alt="image-20220811104456712"></p>
<p>设置<code>DocumentRoot</code>指定目录的属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html&quot;&gt;		# 网站容器开始标识</span><br><span class="line">    Options Indexes FollowSymLinks	# 找不到主页时，以目录的方式呈现，并允许链接到网站根目录以外</span><br><span class="line">    AllowOverride all		# none不使用.htaccess控制,all允许</span><br><span class="line">    Require all granted		# granted表示运行所有访问，denied表示拒绝所有访问</span><br><span class="line">&lt;/Directory&gt;		# 容器结束</span><br></pre></td></tr></table></figure>



<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811105103794.png" alt="image-20220811105103794"></p>
<p> Apache日志<img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811105214184.png" alt="image-20220811105214184"></p>
<blockquote>
<p><code>%h</code>：远程主机IP地址<br><code>%l</code>：远程日志名<br><code>%u</code>：访问user<br><code>%t</code>：收到请求时间<br><code>&quot;%r&quot; </code>：请求第一行，请求方式(GET、POST) 请求位置　协议　协议版本<br><code>%&gt;s</code> ：状态码　304　403　404<br><code>%b</code> ：响应内容大小<br><code>%&#123;Referer&#125;i</code> ：请求的URL路径<br><code>%&#123;User-Agent&#125;i</code>：客户端信息　chrome firefox edge</p>
</blockquote>
<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811114927373.png" alt="image-20220811114927373"></p>
<p>日志可以自定义</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LogFormat &quot;%h  %&gt;s&quot; yang</span><br><span class="line"></span><br><span class="line">CustomLog &quot;logs/yang_access_log&quot; yang</span><br></pre></td></tr></table></figure>

<p>查看结果</p>
<p>　<img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220909144335763.png" alt="image-20220909144335763"></p>
<h4 id="3-创建子配置文件"><a href="#3-创建子配置文件" class="headerlink" title="(3) 创建子配置文件"></a>(3) 创建子配置文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/httpd/conf.d/</span><br><span class="line">touch web.conf</span><br><span class="line">vim web.conf</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost *:81&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-1</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-1&quot;&gt;  </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811140605411.png" alt="image-20220811140605411"></p>
<p>在<code>httpd.conf</code>添加87监听端口，重载服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Listen 87</span><br><span class="line"></span><br><span class="line">systemctl reload httpd</span><br></pre></td></tr></table></figure>

<p>进入<code>/mnt/project/</code>添加<code>index.html</code>文件，查看是否成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt/project/</span><br><span class="line"><span class="built_in">touch</span> index.html</span><br><span class="line"></span><br><span class="line">curl 10.36.139.62:87</span><br></pre></td></tr></table></figure>

<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811141112424.png" alt="image-20220811141112424"></p>
<h4 id="4-基于端口的虚拟主机"><a href="#4-基于端口的虚拟主机" class="headerlink" title="(4) 基于端口的虚拟主机"></a>(4) 基于端口的虚拟主机</h4><p><strong>保证IP、域名一致</strong></p>
<p>创建三个子配置文件</p>
<p><code>A.config</code> <code>B.config</code> <code>C.config</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:81&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-1</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-1&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:82&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-2</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-2&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:83&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-3</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-3&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<p>在<code>/etc/httpd/conf/httpd.conf</code>添加<code>81 82 83</code> 监听端口</p>
<p>在<code>/</code>目录下创建<code>web-1</code> <code>web-2</code> <code>web-3</code> 3个目录存放project</p>
<p>重启httpd服务</p>
<p>在浏览器分别访问IP对应端口号：</p>
<blockquote>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.22:81/">http://192.168.1.22:81/</a></p>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.22:82/">http://192.168.1.22:82/</a></p>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.22:83/">http://192.168.1.22:83/</a></p>
</blockquote>
<h4 id="5-基于域名的虚拟主机"><a href="#5-基于域名的虚拟主机" class="headerlink" title="(5) 基于域名的虚拟主机"></a>(5) 基于域名的虚拟主机</h4><p><strong>保证端口、IP一致</strong></p>
<p>修改<code>A.config</code> <code>B.config</code> <code>C.config</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:81&gt;</span><br><span class="line">        ServerName www.a.com</span><br><span class="line">        DocumentRoot /web-1</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-1&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:81&gt;</span><br><span class="line">        ServerName www.b.com</span><br><span class="line">        DocumentRoot /web-2</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-2&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:81&gt;</span><br><span class="line">        ServerName www.c.com</span><br><span class="line">        DocumentRoot /web-3</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-3&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<p>重启httpd服务</p>
<p>在windows中<code>C:\Windows\System32\drivers\etc\hosts.ics</code></p>
<blockquote>
<p>  192.168.1.22 <a target="_blank" rel="noopener" href="http://www.a.com/">www.a.com</a> <a target="_blank" rel="noopener" href="http://www.b.com/">www.b.com</a> <a target="_blank" rel="noopener" href="http://www.c.com/">www.c.com</a></p>
</blockquote>
<p>浏览器访问</p>
<blockquote>
<p>  <a target="_blank" rel="noopener" href="http://www.a.com:81/">www.a.com:81</a></p>
<p>  <a target="_blank" rel="noopener" href="http://www.b.com:81/">www.b.com:81</a></p>
<p>  <a target="_blank" rel="noopener" href="http://www.c.com:81/">www.c.com:81</a></p>
</blockquote>
<h4 id="6-基于IP的虚拟主机"><a href="#6-基于IP的虚拟主机" class="headerlink" title="(6) 基于IP的虚拟主机"></a>(6) 基于IP的虚拟主机</h4><p><strong>保证域名、端口一致</strong></p>
<p>添加本地ip地址</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip a a 192.168.1.221/24 dev ens33</span><br><span class="line">ip a a 192.168.1.222/24 dev ens33</span><br><span class="line">ip a a 192.168.1.223/24 dev ens33</span><br></pre></td></tr></table></figure>

<p>修改apache配置文件<code>A.config</code> <code>B.config</code> <code>C.config</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.221:81&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-1</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-1&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.222:81&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-2</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-2&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost 192.168.1.223:81&gt;</span><br><span class="line">        ServerName localhost</span><br><span class="line">        DocumentRoot /web-3</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web-3&quot;&gt; </span><br><span class="line">    AllowOverride all</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<p>重启服务，输入三个ip+端口查看内容</p>
<blockquote>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.221:81/">http://192.168.1.221:81/</a></p>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.222:81/">http://192.168.1.222:81/</a></p>
<p>  <a target="_blank" rel="noopener" href="http://192.168.1.223:81/">http://192.168.1.223:81/</a></p>
</blockquote>
<h4 id="7-基于用户的访问控制"><a href="#7-基于用户的访问控制" class="headerlink" title="(7) 基于用户的访问控制"></a>(7) 基于用户的访问控制</h4><p>创建用户(第一次加<code>c</code>创建文件第二次不需要，m　md5加密)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -cm /etc/httpd/password yang</span><br></pre></td></tr></table></figure>

<p>输入两次密码</p>
<p>更改文件</p>
<blockquote>
<p>  <code>AllowOverride AuthConfig</code> 	# 启用用户的访问控制</p>
<p>  <code>AuthName &quot;Restricted Files&quot;</code> 	# 认证名称，自定义</p>
<p>  <code>AuthType Basic</code> 	# 认证类型 默认Basic</p>
<p>  <code>AuthBasicProvider file</code> # 可选参数 认证内容来自于文件</p>
<p>  <code>AuthUserFile &quot;/etc/httpd/password&quot;</code> 	# 存放用户和密码的文件</p>
<p>  <code>Require user yang</code>		# 指定可以访问的用户</p>
</blockquote>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172531335.png" alt="image-20220811172531335"></p>
<p>所有的配置结束后，重新启动服务，浏览器访问验证：</p>
<p><img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172709426.png" alt="image-20220811172709426"></p>
<p>输入yang 123</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811172801509.png" alt="image-20220811172801509"></p>
<h4 id="8-rewrite规则"><a href="#8-rewrite规则" class="headerlink" title="(8) rewrite规则"></a>(8) rewrite规则</h4><p>编辑game.conf文件，更改windows端hosts文件</p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811174653527.png" alt="image-20220811174653527"></p>
<p>R&#x3D;301 强制外部重定向</p>
<p>NC 不区分大小写</p>
<p>[OR] 或者</p>
<p>在浏览器地址栏输入</p>
<blockquote>
<p>  <a target="_blank" rel="noopener" href="http://www.blog3366.com/">http://www.blog3366.com</a></p>
</blockquote>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811175045269.png" alt="image-20220811175045269"></p>
<p> <img src="https://typora3366.oss-cn-shenzhen.aliyuncs.com/img_for_typora/image-20220811175100352.png" alt="image-20220811175100352"></p>
<h3 id="3-LAMP架构"><a href="#3-LAMP架构" class="headerlink" title="3. LAMP架构"></a>3. LAMP架构</h3><blockquote>
<p> LAMP 即 Linux + Apache + Mysql &#x2F; MariaDB + Perl &#x2F; PHP &#x2F; Python 的首字母缩写。</p>
<p>这是一组常用来搭建动态网站或者服务器的开源软件</p>
</blockquote>
<h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd mariadb mariadb-server php php-fpm php-mysql php-gd gd</span><br></pre></td></tr></table></figure>

<h4 id="2-启动"><a href="#2-启动" class="headerlink" title="2.启动"></a>2.启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start php-fpm httpd mariadb</span><br></pre></td></tr></table></figure>

<h4 id="3-配置"><a href="#3-配置" class="headerlink" title="3.配置"></a>3.配置</h4><p>设置mysql登录密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root  password <span class="string">&#x27;123&#x27;</span></span><br></pre></td></tr></table></figure>

<p>登录数据库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p123</span><br></pre></td></tr></table></figure>

<p>创建数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create database wordpress;</span><br><span class="line"></span><br><span class="line">exit	#退出</span><br></pre></td></tr></table></figure>

<p>apache配置可以采用默认配置网站发布目录在<code>/var/www/html/</code></p>
<p>添加子配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/httpd/conf.d/wordpress.conf</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">	ServerName localhost</span><br><span class="line">	DocumentRoot /web</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line">&lt;Directory &quot;/web&quot;&gt;</span><br><span class="line">	AllowOverride ALL</span><br><span class="line">	Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<p>创建网站发布目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /web</span><br></pre></td></tr></table></figure>

<p>PHP使用默认配置</p>
<h4 id="4-产品上线"><a href="#4-产品上线" class="headerlink" title="4.产品上线"></a>4.产品上线</h4><blockquote>
<p> 以 wordpress 为例</p>
</blockquote>
<p>解压wordpress放到<code>/web</code> 网站发布目录下</p>
<p>验证，浏览器访问</p>
<h3 id="4-LNMP架构"><a href="#4-LNMP架构" class="headerlink" title="4.LNMP架构"></a>4.LNMP架构</h3>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/08/09/hello-world/" rel="prev" title="Hello World">
                  <i class="fa fa-chevron-left"></i> Hello World
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/08/11/WordPress%E6%90%AD%E5%BB%BA/" rel="next" title="WordPress搭建">
                  WordPress搭建 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ShowerSheep</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">54k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">49 分钟</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/4.14.2/algoliasearch-lite.umd.js" integrity="sha256-dImjLPUsG/6p3+i7gVKBiDM8EemJAhQ0VvkRK2pVsQY=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/4.43.1/instantsearch.production.min.js" integrity="sha256-jLNoKrKRDKAOg8JBqkl8jSy2tpqCGQ1/++9QRYtWl8k=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.3/mermaid.min.js","integrity":"sha256-TIYL00Rhw/8WaoUhYTLX9SKIEFdXxg+yMWSLVUbhiLg="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/pace.js"></script>

  





</body>
</html>
